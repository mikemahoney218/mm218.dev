<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.553">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Mike Mahoney">
<meta name="dcterms.date" content="2022-12-12">
<meta name="description" content="The void yells back.">

<title>Mike Mahoney - The tools I loved this year</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="../../site_libs/kePrint-0.0.1/kePrint.js"></script>
<link href="../../site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<link href="../../site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet">
<script src="../../site_libs/pagedtable-1.1/js/pagedtable.js"></script>


<link rel="stylesheet" href="../../styles.css">
<meta property="og:title" content="Mike Mahoney - The tools I loved this year">
<meta property="og:description" content="The void yells back.">
<meta property="og:image" content="https://mm218.dev/posts/2022-12-12-tools/favorites.jpg">
<meta property="og:site_name" content="Mike Mahoney">
<meta property="og:locale" content="en_US">
<meta name="twitter:title" content="Mike Mahoney - The tools I loved this year">
<meta name="twitter:description" content="The void yells back.">
<meta name="twitter:image" content="https://mm218.dev/posts/2022-12-12-tools/favorites.jpg">
<meta name="twitter:creator" content="@MikeMahoney218">
<meta name="twitter:card" content="summary_large_image">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Mike Mahoney</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../papers"> 
<span class="menu-text">Papers</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../presentations"> 
<span class="menu-text">Presentations</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../blog.html"> 
<span class="menu-text">Blog</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="../../blog.xml"> <i class="bi bi-rss" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">The tools I loved this year</h1>
                  <div>
        <div class="description">
          <p>The void yells back.</p>
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">R</div>
                <div class="quarto-category">Spatial</div>
                <div class="quarto-category">Data science</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p><a href="true">Mike Mahoney</a> </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">December 12, 2022</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#workflow" id="toc-workflow" class="nav-link active" data-scroll-target="#workflow">Workflow</a>
  <ul class="collapse">
  <li><a href="#targets-by-will-landau" id="toc-targets-by-will-landau" class="nav-link" data-scroll-target="#targets-by-will-landau">targets by Will Landau</a></li>
  <li><a href="#paperless-ng-by-jonas-winkler" id="toc-paperless-ng-by-jonas-winkler" class="nav-link" data-scroll-target="#paperless-ng-by-jonas-winkler">Paperless-ng by Jonas Winkler</a></li>
  <li><a href="#future-and-progressr-by-henrik-bengtsson" id="toc-future-and-progressr-by-henrik-bengtsson" class="nav-link" data-scroll-target="#future-and-progressr-by-henrik-bengtsson">future and progressr by Henrik Bengtsson</a></li>
  <li><a href="#units-by-edzer-pebesma" id="toc-units-by-edzer-pebesma" class="nav-link" data-scroll-target="#units-by-edzer-pebesma">units by Edzer Pebesma</a></li>
  </ul></li>
  <li><a href="#visualization" id="toc-visualization" class="nav-link" data-scroll-target="#visualization">Visualization</a>
  <ul class="collapse">
  <li><a href="#ggdist-by-matthew-kay" id="toc-ggdist-by-matthew-kay" class="nav-link" data-scroll-target="#ggdist-by-matthew-kay">ggdist by Matthew Kay</a></li>
  <li><a href="#kableextra-by-hao-zhu" id="toc-kableextra-by-hao-zhu" class="nav-link" data-scroll-target="#kableextra-by-hao-zhu">kableExtra by Hao Zhu</a></li>
  <li><a href="#ggsflabel-by-hiroaki-yutani" id="toc-ggsflabel-by-hiroaki-yutani" class="nav-link" data-scroll-target="#ggsflabel-by-hiroaki-yutani">ggsflabel by Hiroaki Yutani</a></li>
  <li><a href="#ggspatial-by-dewey-dunnington" id="toc-ggspatial-by-dewey-dunnington" class="nav-link" data-scroll-target="#ggspatial-by-dewey-dunnington">ggspatial by Dewey Dunnington</a></li>
  <li><a href="#patchwork-by-thomas-lin-pedersen" id="toc-patchwork-by-thomas-lin-pedersen" class="nav-link" data-scroll-target="#patchwork-by-thomas-lin-pedersen">patchwork by Thomas Lin Pedersen</a></li>
  </ul></li>
  <li><a href="#spatial" id="toc-spatial" class="nav-link" data-scroll-target="#spatial">Spatial</a>
  <ul class="collapse">
  <li><a href="#terra-by-robert-hijmans" id="toc-terra-by-robert-hijmans" class="nav-link" data-scroll-target="#terra-by-robert-hijmans">terra by Robert Hijmans</a></li>
  <li><a href="#gdal-by-frank-warmerdam-even-rouault-and-others" id="toc-gdal-by-frank-warmerdam-even-rouault-and-others" class="nav-link" data-scroll-target="#gdal-by-frank-warmerdam-even-rouault-and-others">GDAL by Frank Warmerdam, Even Rouault, and others</a></li>
  <li><a href="#sf-by-edzer-pebesma" id="toc-sf-by-edzer-pebesma" class="nav-link" data-scroll-target="#sf-by-edzer-pebesma">sf by Edzer Pebesma</a></li>
  <li><a href="#landscapemetrics-by-maximilian-hesselbarth-et-al." id="toc-landscapemetrics-by-maximilian-hesselbarth-et-al." class="nav-link" data-scroll-target="#landscapemetrics-by-maximilian-hesselbarth-et-al.">landscapemetrics by Maximilian Hesselbarth et al.</a></li>
  </ul></li>
  <li><a href="#devops" id="toc-devops" class="nav-link" data-scroll-target="#devops">DevOps</a>
  <ul class="collapse">
  <li><a href="#pi-hole" id="toc-pi-hole" class="nav-link" data-scroll-target="#pi-hole">Pi-hole</a></li>
  <li><a href="#plumber-by-barret-schloerke-pool-by-joe-cheng-and-memoise-by-hadley-wickham-and-jim-hester-among-others" id="toc-plumber-by-barret-schloerke-pool-by-joe-cheng-and-memoise-by-hadley-wickham-and-jim-hester-among-others" class="nav-link" data-scroll-target="#plumber-by-barret-schloerke-pool-by-joe-cheng-and-memoise-by-hadley-wickham-and-jim-hester-among-others">plumber by Barret Schloerke, pool by Joe Cheng, and memoise by Hadley Wickham and Jim Hester (among others)</a></li>
  <li><a href="#openmetrics-by-aaron-jacobs-and-logger-by-gergely-daróczi" id="toc-openmetrics-by-aaron-jacobs-and-logger-by-gergely-daróczi" class="nav-link" data-scroll-target="#openmetrics-by-aaron-jacobs-and-logger-by-gergely-daróczi">openmetrics by Aaron Jacobs and logger by Gergely Daróczi</a></li>
  </ul></li>
  <li><a href="#the-posit-empire" id="toc-the-posit-empire" class="nav-link" data-scroll-target="#the-posit-empire">The Posit Empire</a>
  <ul class="collapse">
  <li><a href="#quarto" id="toc-quarto" class="nav-link" data-scroll-target="#quarto">Quarto</a></li>
  <li><a href="#recipes" id="toc-recipes" class="nav-link" data-scroll-target="#recipes">recipes</a></li>
  <li><a href="#yardstick" id="toc-yardstick" class="nav-link" data-scroll-target="#yardstick">yardstick</a></li>
  <li><a href="#ggplot2" id="toc-ggplot2" class="nav-link" data-scroll-target="#ggplot2">ggplot2</a></li>
  <li><a href="#dplyr" id="toc-dplyr" class="nav-link" data-scroll-target="#dplyr">dplyr</a></li>
  <li><a href="#tidyr" id="toc-tidyr" class="nav-link" data-scroll-target="#tidyr">tidyr</a></li>
  <li><a href="#devtools-testthat-pkgdown" id="toc-devtools-testthat-pkgdown" class="nav-link" data-scroll-target="#devtools-testthat-pkgdown">devtools, testthat, pkgdown</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<p>One of the problems with open source development is that it’s the engineering equivalent of yelling into the void. Once your code is released, it’s really, really hard to know if anyone actually <em>uses</em> your tool. You might be able to track download numbers,<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> but there’s almost no way to tell how many of those downloads are actual users, and how many are from automated webscrapers, unofficial mirrors, or people who will try to use your software once before giving up and moving on to something else.<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a> The best information about how many people use your software is, basically, how much you hear people talking about your software.</p>
<p>The problem is that, for the majority of open source projects, you’ll only hear people talk about your software when it’s pissing someone off. People don’t generally open issues on GitHub to tell you they love your work,<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a> but rather to tell you that your work messed up in a big enough way that they’re going to spend time writing you letters about it. On my more meditative days, I’m able to look at issues as “someone cares enough about this project to spend their time telling me what they think would improve it”; on my more human ones, it can feel like someone sharing a public list of my mistakes.<a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a></p>
<p>So, with all this in mind and full up on the holiday spirit, I’m putting here a non-exhaustive list of the open-source tools that I loved this year, in no particular order, with a bent towards independent developers and smaller projects. These are <em>primarily</em> R projects, with a few other tools thrown in. Apologies to anyone I’ve forgotten; please know that you would not know I had ever used your software if I didn’t love it.</p>
<section id="workflow" class="level2">
<h2 class="anchored" data-anchor-id="workflow">Workflow</h2>
<section id="targets-by-will-landau" class="level3">
<h3 class="anchored" data-anchor-id="targets-by-will-landau"><a href="https://books.ropensci.org/targets/">targets</a> by Will Landau</h3>
<p>Every so often you stumble across a project that makes it obviously, blindingly clear that you’ve been doing things wrong this whole time. Sometimes this means finding out that your efforts have been <em>wrong</em>, and you’ve been doing things <em>incorrectly</em> up until now; more exciting are the times you realize you haven’t been doing anything <em>wrong</em> per se, but could be doing things so much <em>better</em>.</p>
<p>The targets package is a peak example of the latter. The ways analyses are usually structured – cells of a single notebook, shell scripts that run a smattering of individual files, cludgy Make files – are <em>fine</em>, and serve a purpose, and there’s nothing <em>wrong</em> with them. There’s just a better way. And targets is that better way.</p>
<p>Rather than making you define the dependencies between your analysis steps yourself, targets will automatically calculate your project’s DAG and run your scripts in the order they need to be executed. If you change a script, or files change on disk, targets will invalidate only the steps that <em>need</em> to be re-run under the new conditions, and will run only those steps on your next go. This alone is incredible.</p>
<p>But targets does <em>so much more</em> than that. My personal needs have meant I’ve spent a lot of time with targets’ dynamic branching mechanism, where you can tell targets to execute a script against various combinations of input parameters, massively reducing the amount of actual code you need to write. There’s plenty of additional bells and whistles attached for dealing with distributed computing and cloud data environments. Plus, there’s tons of metrics and instrumentation available to watch your DAG as it executes, and the visuals produced by the package are <em>beautiful</em>:</p>
<p><img src="dag.png" class="img-fluid" alt="The targets graph for my most recent project. Functions and objects are connected by lines, diagramming the relationships between the steps in the project."></p>
<p>Part of the joy of targets is just how well-documented the package is. There’s a <a href="https://docs.ropensci.org/targets/">website</a>. There’s <a href="https://books.ropensci.org/targets/">an entire book</a>. Will has set an incredibly high bar for the rest of us.</p>
</section>
<section id="paperless-ng-by-jonas-winkler" class="level3">
<h3 class="anchored" data-anchor-id="paperless-ng-by-jonas-winkler"><a href="https://github.com/jonaswinkler/paperless-ng">Paperless-ng</a> by Jonas Winkler</h3>
<p>A docker container runs on a small server in my living room,<a href="#fn5" class="footnote-ref" id="fnref5" role="doc-noteref"><sup>5</sup></a> running my instance of Paperless-ng. When I save a new article to its “input” folder, the container OCR’s the document and moves it to a safe storage location, giving it the appropriate “tags” and making it accessible with the rest of the papers I’ve ever shown an interest in.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="paperless.png" class="img-fluid figure-img"></p>
<figcaption>I swear I’ve read (most of) these, I just am not <em>great</em> at updating my tags.</figcaption>
</figure>
</div>
<p>Paired with a VPN<a href="#fn6" class="footnote-ref" id="fnref6" role="doc-noteref"><sup>6</sup></a>, this means I can access my entire reference library from anywhere I go, from any device I own, with access to full-text search and any notes I’ve taken. This is one of the outright best hacks I have ever found for literature searches; I have access to a personally-curated Google Scholar filled with the sources that <em>I</em> have found relevant in the past, which makes finding the proper citation or reference document a breeze. If you’re a certain breed of nerdy academic, I can’t recommend it enough.</p>
</section>
<section id="future-and-progressr-by-henrik-bengtsson" class="level3">
<h3 class="anchored" data-anchor-id="future-and-progressr-by-henrik-bengtsson"><a href="https://future.futureverse.org/">future</a> and <a href="https://progressr.futureverse.org/">progressr</a> by Henrik Bengtsson</h3>
<p>My research group is split across folks who use Windows, MacOs, and Linux, and we need to share code a <em>lot</em>. That makes relying on system features, like multi-core processing via <code>mclapply()</code> in the parallel package, rather fraught.</p>
<p>Our solution to that problem is the future package, which provides functions for parallel computing which function across OSes. That alone merits a spot on this list. But even more than that, I’m a huge fan of the philosophy behind the future package.</p>
<p>Say for instance you’re developing a package – or writing a script for a coworker, or generally writing code that you will not be executing yourself. Your code looks something like this:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>intense_function <span class="ot">&lt;-</span> <span class="cf">function</span>(...) {</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  list_to_iterate_over <span class="ot">&lt;-</span> <span class="fu">list</span>(...)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">lapply</span>(</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>    list_to_iterate_over,</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>    some_intensive_processing_function</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>You have no idea what else your user will be doing when you execute this. Maybe they’re busy running a more important job that needs most of their RAM, or maybe your script can safely use all their computing resources; while writing your function, you can’t know. For that reason, you don’t want to enable parallelism by default.</p>
<p>So what do you do? Let the user decide how parallel they want your code to be. If you write your code using packages from the future family, your users can use the <code>plan()</code> function to specify how much parallelism they’re comfortable with your script using. And gaining that amount of flexibility requires a one-line change:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>intense_function <span class="ot">&lt;-</span> <span class="cf">function</span>(...) {</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  list_to_iterate_over <span class="ot">&lt;-</span> <span class="fu">list</span>(...)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  future.apply<span class="sc">::</span><span class="fu">future_lapply</span>(</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>    list_to_iterate_over,</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>    some_intensive_processing_function</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>You don’t need to write any logic around parallelization; all of that work gets outsourced to future.</p>
<p>For similar reasons, I really like the progressr package that’s part of the future ecosystem. Adding progress bars is as simple as specifying how many iterations you’re expecting to do, and when the bar should update:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>iteration_function <span class="ot">&lt;-</span> <span class="cf">function</span>(<span class="at">n =</span> <span class="dv">10</span>) {</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  p <span class="ot">&lt;-</span> progressr<span class="sc">::</span><span class="fu">progressor</span>(n)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">lapply</span>(</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">seq_len</span>(n),</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>    \(x) {</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>      <span class="fu">p</span>(<span class="at">message =</span> <span class="fu">sprintf</span>(<span class="st">"On iteration %f"</span>, x))</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>      <span class="fu">Sys.sleep</span>(<span class="fl">0.1</span>)</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">invisible</span>(<span class="cn">NULL</span>)</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>And then all the rest is left to the user. They can use whatever sort of progress bar they find useful, or none at all – you don’t need to be a part of that decision whatsoever:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>progressr<span class="sc">::</span><span class="fu">handlers</span>(<span class="st">"txtprogressbar"</span>)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>progressr<span class="sc">::</span><span class="fu">with_progress</span>(</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">iteration_function</span>()</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="units-by-edzer-pebesma" class="level3">
<h3 class="anchored" data-anchor-id="units-by-edzer-pebesma"><a href="https://github.com/r-quantities/units">units</a> by Edzer Pebesma</h3>
<p>I’m gonna be honest, this is a weird one for the workflow section. But at the same time, the units package has become something I load in almost every project I work on. If you’re doing anything that <em>might</em> have unit conversions, this package can be a lifesaver.</p>
<p>For instance, let’s take an actual example from a project I worked on last week. Say you’ve run some samples through an <a href="https://en.wikipedia.org/wiki/Inductively_coupled_plasma_mass_spectrometry">ICP</a> machine, and need to calculate how much of a given analyte<a href="#fn7" class="footnote-ref" id="fnref7" role="doc-noteref"><sup>7</sup></a> is in your sample.</p>
<p>To do that, you’ve got three numbers: the concentration of the analyte in the solution you ran through the ICP in units of milligrams per liter, the amount of solution you used in units of milliliters, and the amount of sample in the solution in grams. Your target is the amount of analyte per amount of sample, in units of milligrams per gram. This is simple dimensional analysis<a href="#fn8" class="footnote-ref" id="fnref8" role="doc-noteref"><sup>8</sup></a>, and you set up your equations like so:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>concentration_mg_per_L <span class="ot">&lt;-</span> <span class="fl">1.68</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>sample_weight_g <span class="ot">&lt;-</span> <span class="fl">0.29</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>solution_volume_mL <span class="ot">&lt;-</span> <span class="fl">53.54</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>solution_volume_L <span class="ot">&lt;-</span> solution_volume_mL <span class="sc">/</span> <span class="dv">1000</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>concentration_mg <span class="ot">&lt;-</span> concentration_mg_per_L <span class="sc">/</span> solution_volume_L</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>concentration_mg <span class="sc">/</span> sample_weight_g</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 108.2014</code></pre>
</div>
</div>
<p>See the bug?</p>
<p>This is the sort of thing that can kill an analysis; silent logic bugs that <em>execute</em> fine but invalidate all of your results. If we tag our measurements with the units they represent, however, it’s a little bit easier to see what went wrong here:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>concentration_mg_per_L <span class="ot">&lt;-</span> units<span class="sc">::</span><span class="fu">set_units</span>(<span class="fl">1.68</span>, <span class="st">"mg / L"</span>)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>sample_weight_g <span class="ot">&lt;-</span> units<span class="sc">::</span><span class="fu">set_units</span>(<span class="fl">0.29</span>, <span class="st">"g"</span>)</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>solution_volume_mL <span class="ot">&lt;-</span> units<span class="sc">::</span><span class="fu">set_units</span>(<span class="fl">53.54</span>, <span class="st">"mL"</span>)</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>concentration_mg <span class="ot">=</span> concentration_mg_per_L <span class="sc">/</span> solution_volume_mL</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>concentration_mg <span class="sc">/</span> sample_weight_g</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>0.0001082014 [1/L/mL]</code></pre>
</div>
</div>
<p>The units package automatically converts between units, which means we can get rid of the manual conversion from milliliters of solution into liters. The package also tells us what units our results are in following calculation. Here we can see that our results aren’t in the units we’re after – we want a concentration (amount of analyte per unit of sample), not something measured in “1 per liter per milliliter”.</p>
<p>This tips us off that we made a mistake in our conversions somewhere, and indeed we flipped an operand – rather than <em>dividing</em> our concentration by the amount of solution, we need to multiply it:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>concentration_mg <span class="ot">=</span> concentration_mg_per_L <span class="sc">*</span> solution_volume_mL</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>concentration_mg <span class="sc">/</span> sample_weight_g</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>0.0003101628 [1]</code></pre>
</div>
</div>
<p>That gives us our desired concentration: the number of grams of analyte per gram of sample. We can easily convert that to other forms using the units package; for instance, we tend to work with concentrations in units of milligram of analyte per gram of sample:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>(concentration_mg <span class="sc">/</span> sample_weight_g) <span class="sc">|&gt;</span> units<span class="sc">::</span><span class="fu">set_units</span>(<span class="st">"mg / g"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>0.3101628 [mg/g]</code></pre>
</div>
</div>
<p>But we can be even more explicit than that. The units package lets us install our own units, which lets us tag what these numbers are a gram <em>of</em>. That means that we can automatically see that our results are natively a ratio of total analyte per unit of sample:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>units<span class="sc">::</span><span class="fu">install_unit</span>(<span class="st">"analyte"</span>)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>units<span class="sc">::</span><span class="fu">install_unit</span>(<span class="st">"sample"</span>)</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>units<span class="sc">::</span><span class="fu">install_unit</span>(<span class="st">"solution"</span>)</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>concentration_mg_per_L <span class="ot">&lt;-</span> units<span class="sc">::</span><span class="fu">set_units</span>(<span class="fl">1.68</span>, <span class="st">"(mg * analyte) / (L * solution)"</span>)</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>sample_weight_g <span class="ot">&lt;-</span> units<span class="sc">::</span><span class="fu">set_units</span>(<span class="fl">0.29</span>, <span class="st">"g * sample"</span>)</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>solution_volume_mL <span class="ot">&lt;-</span> units<span class="sc">::</span><span class="fu">set_units</span>(<span class="fl">53.54</span>, <span class="st">"mL * solution"</span>)</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>concentration_mg <span class="ot">=</span> concentration_mg_per_L <span class="sc">*</span> solution_volume_mL</span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>(concentration_mg <span class="sc">/</span> sample_weight_g)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>0.0003101628 [analyte/sample]</code></pre>
</div>
</div>
<p>And we can purposefully convert that to units of miligrams of analyte per grams of sample, in a very explicit way:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>(concentration_mg <span class="sc">/</span> sample_weight_g) <span class="sc">|&gt;</span> </span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  units<span class="sc">::</span><span class="fu">set_units</span>(<span class="st">"(mg * analyte) / (g * sample)"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>0.3101628 [analyte*mg/g/sample]</code></pre>
</div>
</div>
<p>This erases an entire category of bugs, and has been <em>big</em> for me this year. The <a href="https://www.auckland.ac.nz/en/news/2017/12/05/problem-solving-pits-of-success.html">tidyverse</a> team <a href="https://twitter.com/alice_data/status/748200882043396096">talks a lot</a> about the idea of trying to help people fall into a <a href="https://blog.codinghorror.com/falling-into-the-pit-of-success/">“pit of success”</a> – that tools should make it very easy to do things right, and very hard to do things wrong. The units package feels like a fantastic example of the concept.<a href="#fn9" class="footnote-ref" id="fnref9" role="doc-noteref"><sup>9</sup></a></p>
</section>
</section>
<section id="visualization" class="level2">
<h2 class="anchored" data-anchor-id="visualization">Visualization</h2>
<section id="ggdist-by-matthew-kay" class="level3">
<h3 class="anchored" data-anchor-id="ggdist-by-matthew-kay"><a href="https://mjskay.github.io/ggdist/">ggdist</a> by Matthew Kay</h3>
<p>I think I am extremely, extremely late to the ggdist party. But that’s okay, because ggdist is extremely, extremely good; there’s plenty to party about.</p>
<p>I really feel like the best advertisement for this package is the <a href="https://mjskay.github.io/ggdist/">package website</a>; the basic demonstration graphs on that page are <em>beautiful</em>. The toy example plots look better than some<a href="#fn10" class="footnote-ref" id="fnref10" role="doc-noteref"><sup>10</sup></a> of my published figures.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>dplyr<span class="sc">::</span>starwars <span class="sc">|&gt;</span> </span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  tidyr<span class="sc">::</span><span class="fu">unnest</span>(films) <span class="sc">|&gt;</span> </span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  ggplot2<span class="sc">::</span><span class="fu">ggplot</span>(</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>    ggplot2<span class="sc">::</span><span class="fu">aes</span>(<span class="at">x =</span> height, <span class="at">y =</span> films, <span class="at">fill =</span> films)</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span> </span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>  ggdist<span class="sc">::</span><span class="fu">stat_slab</span>(<span class="at">scale =</span> <span class="fl">0.5</span>) <span class="sc">+</span> </span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>  ggdist<span class="sc">::</span><span class="fu">stat_dotsinterval</span>(</span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">side =</span> <span class="st">"bottom"</span>, </span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">scale =</span> <span class="fl">0.5</span>, </span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">interval_alpha =</span> <span class="dv">0</span>, </span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">point_alpha =</span> <span class="dv">0</span>, </span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">slab_size =</span> <span class="cn">NA</span></span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a>  ggplot2<span class="sc">::</span><span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"Set2"</span>) <span class="sc">+</span> </span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a>  ggdist<span class="sc">::</span><span class="fu">theme_ggdist</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>ggdist is a late addition to my arsenal; I used it to make graphs while revising a manuscript and was immediately hooked. The toolkit ggdist provides is incredibly flexible, enabling both dozens of radically different representations of the same data as well as the infinite infinitesimal tweaks that we all obsess over to get our graphs <em>just right</em>. I’m a huge fan so far.</p>
</section>
<section id="kableextra-by-hao-zhu" class="level3">
<h3 class="anchored" data-anchor-id="kableextra-by-hao-zhu"><a href="https://haozhu233.github.io/kableExtra/">kableExtra</a> by Hao Zhu</h3>
<p>A confession: every two months<a href="#fn11" class="footnote-ref" id="fnref11" role="doc-noteref"><sup>11</sup></a> I try a new package for making tables,<a href="#fn12" class="footnote-ref" id="fnref12" role="doc-noteref"><sup>12</sup></a> use it for a week, and immediately go back to kableExtra. There’s just really nothing like it for consistent, professional, beautiful, and <em>controllable</em> tables, particularly for PDF documents.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span> </span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>() <span class="sc">|&gt;</span> </span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  kableExtra<span class="sc">::</span><span class="fu">kbl</span>() <span class="sc">|&gt;</span> </span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>  kableExtra<span class="sc">::</span><span class="fu">kable_styling</span>(</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"striped"</span>, <span class="st">"hover"</span>, <span class="st">"condensed"</span>),</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">fixed_thead =</span> <span class="cn">TRUE</span></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<table class="table table-striped table-hover table-condensed table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF;"></th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">mpg</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">cyl</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">disp</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">hp</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">drat</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">wt</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">qsec</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">vs</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">am</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">gear</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">carb</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Mazda RX4</td>
<td style="text-align: right;">21.0</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">160</td>
<td style="text-align: right;">110</td>
<td style="text-align: right;">3.90</td>
<td style="text-align: right;">2.620</td>
<td style="text-align: right;">16.46</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="even">
<td style="text-align: left;">Mazda RX4 Wag</td>
<td style="text-align: right;">21.0</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">160</td>
<td style="text-align: right;">110</td>
<td style="text-align: right;">3.90</td>
<td style="text-align: right;">2.875</td>
<td style="text-align: right;">17.02</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Datsun 710</td>
<td style="text-align: right;">22.8</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">108</td>
<td style="text-align: right;">93</td>
<td style="text-align: right;">3.85</td>
<td style="text-align: right;">2.320</td>
<td style="text-align: right;">18.61</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">Hornet 4 Drive</td>
<td style="text-align: right;">21.4</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">258</td>
<td style="text-align: right;">110</td>
<td style="text-align: right;">3.08</td>
<td style="text-align: right;">3.215</td>
<td style="text-align: right;">19.44</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Hornet Sportabout</td>
<td style="text-align: right;">18.7</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">360</td>
<td style="text-align: right;">175</td>
<td style="text-align: right;">3.15</td>
<td style="text-align: right;">3.440</td>
<td style="text-align: right;">17.02</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="even">
<td style="text-align: left;">Valiant</td>
<td style="text-align: right;">18.1</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">225</td>
<td style="text-align: right;">105</td>
<td style="text-align: right;">2.76</td>
<td style="text-align: right;">3.460</td>
<td style="text-align: right;">20.22</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">1</td>
</tr>
</tbody>
</table>


</div>
</div>
</div>
<p>Column widths! Consistent APIs to control header rows, grouping rows, data rows! Consistent APIs to control columns! Consistent APIs to control individual cells! kableExtra is a well-designed package. Plus, kableExtra ships with <a href="https://haozhu233.github.io/kableExtra/"><em>incredible</em> documentation</a>, which is extremely easy to search; my experience is that this package is written the way that you intuitively <em>want</em> a table-making package to be written. Every table in every paper I’ve written<a href="#fn13" class="footnote-ref" id="fnref13" role="doc-noteref"><sup>13</sup></a> has been run through kableExtra, and I’m expecting that trend to continue going forward.</p>
</section>
<section id="ggsflabel-by-hiroaki-yutani" class="level3">
<h3 class="anchored" data-anchor-id="ggsflabel-by-hiroaki-yutani"><a href="https://github.com/yutannihilation/ggsflabel">ggsflabel</a> by Hiroaki Yutani</h3>
<p><a href="https://twitter.com/TheMapAddict/status/1514056934407774216">Putting labels</a> on <a href="https://twitter.com/MatthewHMalone/status/1524369593632014336">maps</a> is a <a href="https://twitter.com/MatthewHMalone/status/1529170399640133633">recurring meme</a> among <a href="https://twitter.com/pokateo_/status/1526885811651612672">GIS users</a>. This is one of those things that feels like it should not be that hard, and turns out to actually be impossible.</p>
<p>But somehow, ggsflabel gets it… right? Almost every time? It’s magic. There’s literally no other explanation than magic. You could sell this to any university with an ArcMap subscription for thousands of dollars, but instead I installed it for free from GitHub.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>nc <span class="ot">&lt;-</span> sf<span class="sc">::</span><span class="fu">read_sf</span>(<span class="fu">system.file</span>(<span class="st">"shape/nc.shp"</span>, <span class="at">package =</span> <span class="st">"sf"</span>))</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>ggplot2<span class="sc">::</span><span class="fu">ggplot</span>(nc) <span class="sc">+</span> </span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>  ggplot2<span class="sc">::</span><span class="fu">geom_sf</span>() <span class="sc">+</span> </span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>  ggsflabel<span class="sc">::</span><span class="fu">geom_sf_label_repel</span>(ggplot2<span class="sc">::</span><span class="fu">aes</span>(<span class="at">label =</span> NAME), <span class="at">size =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="ggspatial-by-dewey-dunnington" class="level3">
<h3 class="anchored" data-anchor-id="ggspatial-by-dewey-dunnington"><a href="https://github.com/paleolimbot/ggspatial">ggspatial</a> by Dewey Dunnington</h3>
<p>Just like label placement, every other part of making a map is surprisingly hard. Making coordinate reference systems play nicely with plotting libraries is hard, adding directionally-aware elements to a map is hard, adding scale bars and other distance-aware elements to a map is hard.</p>
<p>The ggspatial package makes it easier. My research group uses it extensively for our north arrows and scale bars, but the entire package is a gem. It solves a problem and does it well.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>nc <span class="ot">&lt;-</span> sf<span class="sc">::</span><span class="fu">read_sf</span>(<span class="fu">system.file</span>(<span class="st">"shape/nc.shp"</span>, <span class="at">package =</span> <span class="st">"sf"</span>))</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>ggplot2<span class="sc">::</span><span class="fu">ggplot</span>(nc) <span class="sc">+</span> </span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>  ggplot2<span class="sc">::</span><span class="fu">geom_sf</span>() <span class="sc">+</span> </span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>  ggspatial<span class="sc">::</span><span class="fu">annotation_north_arrow</span>(<span class="at">location =</span> <span class="st">"br"</span>) <span class="sc">+</span> </span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>  ggspatial<span class="sc">::</span><span class="fu">annotation_scale</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="patchwork-by-thomas-lin-pedersen" class="level3">
<h3 class="anchored" data-anchor-id="patchwork-by-thomas-lin-pedersen"><a href="https://patchwork.data-imaginist.com/">patchwork</a> by Thomas Lin Pedersen</h3>
<p>For the longest time, it was surprisingly tricky to create multi-panel plots in R. The implementations that did exist required you to think a <em>little</em> bit too much about how R thinks about drawing graphics, which has never been a strong suit of mine. Dealing with legends and other annotations was also often a pain.</p>
<p>Enter patchwork, which makes combining plot objects together an absolute breeze:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(patchwork)</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> ggplot2<span class="sc">::</span><span class="fu">ggplot</span>(Orange, ggplot2<span class="sc">::</span><span class="fu">aes</span>(age, circumference, <span class="at">color =</span> Tree)) <span class="sc">+</span> </span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>  ggplot2<span class="sc">::</span><span class="fu">geom_line</span>()</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> ggplot2<span class="sc">::</span><span class="fu">ggplot</span>(mtcars, ggplot2<span class="sc">::</span><span class="fu">aes</span>(wt, drat)) <span class="sc">+</span> </span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>  ggplot2<span class="sc">::</span><span class="fu">geom_point</span>()</span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>p1 <span class="sc">+</span> p2 <span class="sc">+</span> </span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_annotation</span>(<span class="at">tag_levels =</span> <span class="st">'A'</span>) <span class="sc">&amp;</span> </span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>  ggplot2<span class="sc">::</span><span class="fu">theme</span>(<span class="at">plot.tag =</span> ggplot2<span class="sc">::</span><span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">8</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Just about all of my multi-panel figures are made with patchwork these days, because I find it to be exactly as flexible as I need for my visuals. Perhaps the best compliment I can give patchwork is that I barely ever need to think about it – when I need to create multi-panel graphs, I load patchwork and then things Just Work from there.</p>
</section>
</section>
<section id="spatial" class="level2">
<h2 class="anchored" data-anchor-id="spatial">Spatial</h2>
<section id="terra-by-robert-hijmans" class="level3">
<h3 class="anchored" data-anchor-id="terra-by-robert-hijmans"><a href="https://github.com/rspatial/terra">terra</a> by Robert Hijmans</h3>
<p>I’m not going to lie: I was dreading <a href="https://r-spatial.org//r/2022/04/12/evolution.html">the R spatial migration</a>. I have <em>so many</em> legacy projects relying on raster and friends,<a href="#fn14" class="footnote-ref" id="fnref14" role="doc-noteref"><sup>14</sup></a> and was expecting the transition to be an incredible headache without bringing any real benefits to my work.</p>
<p>I could not have been more wrong. Switching workloads to terra has been a <em>fantastic</em> investment across our research group. The terra package is faster than raster, and benefits from over a decade<a href="#fn15" class="footnote-ref" id="fnref15" role="doc-noteref"><sup>15</sup></a> of lessons learned from the raster package. The breadth of operations implemented is incredible as well; a weekly conversation in my lab involves someone<a href="#fn16" class="footnote-ref" id="fnref16" role="doc-noteref"><sup>16</sup></a> asking “how do I do X?”, where X is some complex calculation that would be incredibly difficult to implement, and someone<a href="#fn17" class="footnote-ref" id="fnref17" role="doc-noteref"><sup>17</sup></a> answering “oh, use this one-liner from terra.”</p>
<p>The terra package implements the functions you <em>expect</em> for a raster toolkit, with the names you <em>expect</em> for a raster toolkit, which work in the way you <em>expect</em> for a raster toolkit. For a relatively new package (the first CRAN release was in 2020), terra <em>feels</em> incredibly mature, and is an absolute joy to work with.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>loi <span class="ot">&lt;-</span> tmaptools<span class="sc">::</span><span class="fu">geocode_OSM</span>(<span class="st">"Hyampom California"</span>)<span class="sc">$</span>coords</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>loi <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">x =</span> loi[[<span class="st">"x"</span>]], <span class="at">y =</span> loi[[<span class="st">"y"</span>]])</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>loi <span class="ot">&lt;-</span> sf<span class="sc">::</span><span class="fu">st_as_sf</span>(loi, <span class="at">coords =</span> <span class="fu">c</span>(<span class="st">"x"</span>, <span class="st">"y"</span>), <span class="at">crs =</span> <span class="dv">4326</span>)</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>loi_file <span class="ot">&lt;-</span> <span class="fu">tempfile</span>()</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>output_tiles <span class="ot">&lt;-</span> terrainr<span class="sc">::</span><span class="fu">get_tiles</span>(</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>  terrainr<span class="sc">::</span><span class="fu">set_bbox_side_length</span>(loi, <span class="dv">8000</span>),</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">resolution =</span> <span class="dv">30</span>,</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">output_prefix =</span> loi_file</span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>terra<span class="sc">::</span><span class="fu">rast</span>(output_tiles<span class="sc">$</span>elevation) <span class="sc">|&gt;</span> </span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a>  terra<span class="sc">::</span><span class="fu">plot</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="gdal-by-frank-warmerdam-even-rouault-and-others" class="level3">
<h3 class="anchored" data-anchor-id="gdal-by-frank-warmerdam-even-rouault-and-others"><a href="https://gdal.org/">GDAL</a> by Frank Warmerdam, Even Rouault, and others</h3>
<p>For me, 2022 was the year of CLI GDAL commands. I have now written two papers entirely on the back of shell scripts calling <code>gdal_calc</code> and <code>gdalwarp</code>.</p>
<p>For those with normal hobbies, GDAL is a software library that describes itself as a “translator library” between raster and vector formats. In practice, however, GDAL is a full-featured raster toolkit with pretty decent vector support; a huge amount of common raster operations can be run by chaining together GDAL commands. And that’s huge, because GDAL is <em>fast</em> and can handle much, much larger data than R can.</p>
<p>Recommending GDAL to people who work with spatial data is a little bit like recommending breathing air,<a href="#fn18" class="footnote-ref" id="fnref18" role="doc-noteref"><sup>18</sup></a> given its dominant position in the spatial software ecosystem. But still, this year in particular, I found myself really, really appreciating having this tool at my disposal.</p>
</section>
<section id="sf-by-edzer-pebesma" class="level3">
<h3 class="anchored" data-anchor-id="sf-by-edzer-pebesma"><a href="https://r-spatial.github.io/sf/">sf</a> by Edzer Pebesma</h3>
<p>Perhaps unsurprisingly, the sf package continues to be an absolute delight. sf is the 14th most popular package when counting CRAN downloads; if you work with spatial data, you know about sf. Heck, odds are, if you don’t work with spatial data, you probably also know about sf. I used it in the last three code examples, because it is that core to how I think about doing spatial data analysis in R.</p>
<p>sf is another package that has, with shocking regularity, already implemented the thing you’re trying to do. The dplyr integration is fantastic; the ggplot2 integration is fantastic; the ability to call directly to GDAL is fantastic. I remain a huge fan.</p>
</section>
<section id="landscapemetrics-by-maximilian-hesselbarth-et-al." class="level3">
<h3 class="anchored" data-anchor-id="landscapemetrics-by-maximilian-hesselbarth-et-al."><a href="https://r-spatialecology.github.io/landscapemetrics/">landscapemetrics</a> by Maximilian Hesselbarth et al.</h3>
<p>Imagine, if you will, that everyone – quite literally every single person – in your field uses tool X. X is mostly focused on calculating statistics, and because of its dominance most of those statistics are known primarily as “the X set of statistics”. Most people in your field don’t know how to calculate the statistics without X and aren’t particularly interested in trying; a “correct” statistic is one that agrees with tool X.</p>
<p>Now, imagine tool X is closed-source, only runs on Windows, and was first released in 1995, so doesn’t exactly integrate with other software. In order to address those drawbacks, a team of scientists develop an R package that calculates the same statistics as X. This is already incredibly impressive; I cannot stress enough that <em>everyone</em> uses X and expects your results to match it <em>exactly</em>, and sometimes you just can’t figure out how to precisely match the closed-source Windows-only software. This was a big job.</p>
<p>Now imagine that two years later, the person who wrote tool X retires and every trace of tool X is erased from the internet. This suddenly becomes a <em>much bigger job</em>.</p>
<p>That’s, as best as I can tell from the outside, what happened to the team behind landscapemetrics. FRAGSTATS existed and was <em>the</em> standard reference for a whole boat of statistics;<a href="#fn19" class="footnote-ref" id="fnref19" role="doc-noteref"><sup>19</sup></a> landscapemetrics provided an open-source implementation; FRAGSTATS suddenly no longer existed. I don’t want to sound like I’m criticizing FRAGSTATS here – for a very long time, that software provided an incredible service for free to a huge number of researchers, and I don’t think releasing something on the Internet creates an infinite obligation to make sure the download links never expire.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>landscapemetrics<span class="sc">::</span><span class="fu">calculate_lsm</span>(landscapemetrics<span class="sc">::</span>landscape, <span class="at">level =</span> <span class="st">"patch"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["layer"],"name":[1],"type":["int"],"align":["right"]},{"label":["level"],"name":[2],"type":["chr"],"align":["left"]},{"label":["class"],"name":[3],"type":["int"],"align":["right"]},{"label":["id"],"name":[4],"type":["int"],"align":["right"]},{"label":["metric"],"name":[5],"type":["chr"],"align":["left"]},{"label":["value"],"name":[6],"type":["dbl"],"align":["right"]}],"data":[{"1":"1","2":"patch","3":"1","4":"1","5":"area","6":"0.00010000"},{"1":"1","2":"patch","3":"1","4":"2","5":"area","6":"0.00050000"},{"1":"1","2":"patch","3":"1","4":"3","5":"area","6":"0.01480000"},{"1":"1","2":"patch","3":"1","4":"4","5":"area","6":"0.00010000"},{"1":"1","2":"patch","3":"1","4":"5","5":"area","6":"0.00010000"},{"1":"1","2":"patch","3":"1","4":"6","5":"area","6":"0.00140000"},{"1":"1","2":"patch","3":"1","4":"7","5":"area","6":"0.00030000"},{"1":"1","2":"patch","3":"1","4":"8","5":"area","6":"0.00050000"},{"1":"1","2":"patch","3":"1","4":"9","5":"area","6":"0.00010000"},{"1":"1","2":"patch","3":"2","4":"10","5":"area","6":"0.00350000"},{"1":"1","2":"patch","3":"2","4":"11","5":"area","6":"0.00020000"},{"1":"1","2":"patch","3":"2","4":"12","5":"area","6":"0.00020000"},{"1":"1","2":"patch","3":"2","4":"13","5":"area","6":"0.00980000"},{"1":"1","2":"patch","3":"2","4":"14","5":"area","6":"0.00020000"},{"1":"1","2":"patch","3":"2","4":"15","5":"area","6":"0.00010000"},{"1":"1","2":"patch","3":"2","4":"16","5":"area","6":"0.00240000"},{"1":"1","2":"patch","3":"2","4":"17","5":"area","6":"0.00010000"},{"1":"1","2":"patch","3":"2","4":"18","5":"area","6":"0.00030000"},{"1":"1","2":"patch","3":"2","4":"19","5":"area","6":"0.00030000"},{"1":"1","2":"patch","3":"2","4":"20","5":"area","6":"0.00570000"},{"1":"1","2":"patch","3":"2","4":"21","5":"area","6":"0.00040000"},{"1":"1","2":"patch","3":"2","4":"22","5":"area","6":"0.00070000"},{"1":"1","2":"patch","3":"2","4":"23","5":"area","6":"0.00030000"},{"1":"1","2":"patch","3":"3","4":"24","5":"area","6":"0.04570000"},{"1":"1","2":"patch","3":"3","4":"25","5":"area","6":"0.00090000"},{"1":"1","2":"patch","3":"3","4":"26","5":"area","6":"0.00030000"},{"1":"1","2":"patch","3":"3","4":"27","5":"area","6":"0.00100000"},{"1":"1","2":"patch","3":"1","4":"1","5":"cai","6":"0.00000000"},{"1":"1","2":"patch","3":"1","4":"2","5":"cai","6":"0.00000000"},{"1":"1","2":"patch","3":"1","4":"3","5":"cai","6":"47.97297297"},{"1":"1","2":"patch","3":"1","4":"4","5":"cai","6":"0.00000000"},{"1":"1","2":"patch","3":"1","4":"5","5":"cai","6":"0.00000000"},{"1":"1","2":"patch","3":"1","4":"6","5":"cai","6":"14.28571429"},{"1":"1","2":"patch","3":"1","4":"7","5":"cai","6":"0.00000000"},{"1":"1","2":"patch","3":"1","4":"8","5":"cai","6":"0.00000000"},{"1":"1","2":"patch","3":"1","4":"9","5":"cai","6":"0.00000000"},{"1":"1","2":"patch","3":"2","4":"10","5":"cai","6":"31.42857143"},{"1":"1","2":"patch","3":"2","4":"11","5":"cai","6":"0.00000000"},{"1":"1","2":"patch","3":"2","4":"12","5":"cai","6":"0.00000000"},{"1":"1","2":"patch","3":"2","4":"13","5":"cai","6":"44.89795918"},{"1":"1","2":"patch","3":"2","4":"14","5":"cai","6":"0.00000000"},{"1":"1","2":"patch","3":"2","4":"15","5":"cai","6":"0.00000000"},{"1":"1","2":"patch","3":"2","4":"16","5":"cai","6":"16.66666667"},{"1":"1","2":"patch","3":"2","4":"17","5":"cai","6":"0.00000000"},{"1":"1","2":"patch","3":"2","4":"18","5":"cai","6":"0.00000000"},{"1":"1","2":"patch","3":"2","4":"19","5":"cai","6":"0.00000000"},{"1":"1","2":"patch","3":"2","4":"20","5":"cai","6":"49.12280702"},{"1":"1","2":"patch","3":"2","4":"21","5":"cai","6":"0.00000000"},{"1":"1","2":"patch","3":"2","4":"22","5":"cai","6":"14.28571429"},{"1":"1","2":"patch","3":"2","4":"23","5":"cai","6":"0.00000000"},{"1":"1","2":"patch","3":"3","4":"24","5":"cai","6":"49.23413567"},{"1":"1","2":"patch","3":"3","4":"25","5":"cai","6":"0.00000000"},{"1":"1","2":"patch","3":"3","4":"26","5":"cai","6":"0.00000000"},{"1":"1","2":"patch","3":"3","4":"27","5":"cai","6":"10.00000000"},{"1":"1","2":"patch","3":"1","4":"1","5":"circle","6":"0.36338023"},{"1":"1","2":"patch","3":"1","4":"2","5":"circle","6":"0.62551778"},{"1":"1","2":"patch","3":"1","4":"3","5":"circle","6":"0.78050151"},{"1":"1","2":"patch","3":"1","4":"4","5":"circle","6":"0.36338023"},{"1":"1","2":"patch","3":"1","4":"5","5":"circle","6":"0.36338023"},{"1":"1","2":"patch","3":"1","4":"6","5":"circle","6":"0.55436616"},{"1":"1","2":"patch","3":"1","4":"7","5":"circle","6":"0.61802814"},{"1":"1","2":"patch","3":"1","4":"8","5":"circle","6":"0.51029248"},{"1":"1","2":"patch","3":"1","4":"9","5":"circle","6":"0.36338023"},{"1":"1","2":"patch","3":"2","4":"10","5":"circle","6":"0.57959072"},{"1":"1","2":"patch","3":"2","4":"11","5":"circle","6":"0.49070418"},{"1":"1","2":"patch","3":"2","4":"12","5":"circle","6":"0.68169011"},{"1":"1","2":"patch","3":"2","4":"13","5":"circle","6":"0.81122924"},{"1":"1","2":"patch","3":"2","4":"14","5":"circle","6":"0.49070418"},{"1":"1","2":"patch","3":"2","4":"15","5":"circle","6":"0.36338023"},{"1":"1","2":"patch","3":"2","4":"16","5":"circle","6":"0.68497166"},{"1":"1","2":"patch","3":"2","4":"17","5":"circle","6":"0.36338023"},{"1":"1","2":"patch","3":"2","4":"18","5":"circle","6":"0.52253517"},{"1":"1","2":"patch","3":"2","4":"19","5":"circle","6":"0.52253517"},{"1":"1","2":"patch","3":"2","4":"20","5":"circle","6":"0.53165556"},{"1":"1","2":"patch","3":"2","4":"21","5":"circle","6":"0.36338023"},{"1":"1","2":"patch","3":"2","4":"22","5":"circle","6":"0.38296853"},{"1":"1","2":"patch","3":"2","4":"23","5":"circle","6":"0.61802814"},{"1":"1","2":"patch","3":"3","4":"24","5":"circle","6":"0.66587975"},{"1":"1","2":"patch","3":"3","4":"25","5":"circle","6":"0.56859648"},{"1":"1","2":"patch","3":"3","4":"26","5":"circle","6":"0.61802814"},{"1":"1","2":"patch","3":"3","4":"27","5":"circle","6":"0.49370004"},{"1":"1","2":"patch","3":"1","4":"1","5":"contig","6":"0.00000000"},{"1":"1","2":"patch","3":"1","4":"2","5":"contig","6":"0.33333333"},{"1":"1","2":"patch","3":"1","4":"3","5":"contig","6":"0.76126126"},{"1":"1","2":"patch","3":"1","4":"4","5":"contig","6":"0.00000000"},{"1":"1","2":"patch","3":"1","4":"5","5":"contig","6":"0.00000000"},{"1":"1","2":"patch","3":"1","4":"6","5":"contig","6":"0.59523810"},{"1":"1","2":"patch","3":"1","4":"7","5":"contig","6":"0.22222222"},{"1":"1","2":"patch","3":"1","4":"8","5":"contig","6":"0.43333333"},{"1":"1","2":"patch","3":"1","4":"9","5":"contig","6":"0.00000000"},{"1":"1","2":"patch","3":"2","4":"10","5":"contig","6":"0.69047619"},{"1":"1","2":"patch","3":"2","4":"11","5":"contig","6":"0.16666667"},{"1":"1","2":"patch","3":"2","4":"12","5":"contig","6":"0.08333333"},{"1":"1","2":"patch","3":"2","4":"13","5":"contig","6":"0.76190476"},{"1":"1","2":"patch","3":"2","4":"14","5":"contig","6":"0.16666667"},{"1":"1","2":"patch","3":"2","4":"15","5":"contig","6":"0.00000000"},{"1":"1","2":"patch","3":"2","4":"16","5":"contig","6":"0.62500000"},{"1":"1","2":"patch","3":"2","4":"17","5":"contig","6":"0.00000000"},{"1":"1","2":"patch","3":"2","4":"18","5":"contig","6":"0.27777778"},{"1":"1","2":"patch","3":"2","4":"19","5":"contig","6":"0.27777778"},{"1":"1","2":"patch","3":"2","4":"20","5":"contig","6":"0.79239766"},{"1":"1","2":"patch","3":"2","4":"21","5":"contig","6":"0.41666667"},{"1":"1","2":"patch","3":"2","4":"22","5":"contig","6":"0.52380952"},{"1":"1","2":"patch","3":"2","4":"23","5":"contig","6":"0.22222222"},{"1":"1","2":"patch","3":"3","4":"24","5":"contig","6":"0.78482859"},{"1":"1","2":"patch","3":"3","4":"25","5":"contig","6":"0.50000000"},{"1":"1","2":"patch","3":"3","4":"26","5":"contig","6":"0.22222222"},{"1":"1","2":"patch","3":"3","4":"27","5":"contig","6":"0.55000000"},{"1":"1","2":"patch","3":"1","4":"1","5":"core","6":"0.00000000"},{"1":"1","2":"patch","3":"1","4":"2","5":"core","6":"0.00000000"},{"1":"1","2":"patch","3":"1","4":"3","5":"core","6":"0.00710000"},{"1":"1","2":"patch","3":"1","4":"4","5":"core","6":"0.00000000"},{"1":"1","2":"patch","3":"1","4":"5","5":"core","6":"0.00000000"},{"1":"1","2":"patch","3":"1","4":"6","5":"core","6":"0.00020000"},{"1":"1","2":"patch","3":"1","4":"7","5":"core","6":"0.00000000"},{"1":"1","2":"patch","3":"1","4":"8","5":"core","6":"0.00000000"},{"1":"1","2":"patch","3":"1","4":"9","5":"core","6":"0.00000000"},{"1":"1","2":"patch","3":"2","4":"10","5":"core","6":"0.00110000"},{"1":"1","2":"patch","3":"2","4":"11","5":"core","6":"0.00000000"},{"1":"1","2":"patch","3":"2","4":"12","5":"core","6":"0.00000000"},{"1":"1","2":"patch","3":"2","4":"13","5":"core","6":"0.00440000"},{"1":"1","2":"patch","3":"2","4":"14","5":"core","6":"0.00000000"},{"1":"1","2":"patch","3":"2","4":"15","5":"core","6":"0.00000000"},{"1":"1","2":"patch","3":"2","4":"16","5":"core","6":"0.00040000"},{"1":"1","2":"patch","3":"2","4":"17","5":"core","6":"0.00000000"},{"1":"1","2":"patch","3":"2","4":"18","5":"core","6":"0.00000000"},{"1":"1","2":"patch","3":"2","4":"19","5":"core","6":"0.00000000"},{"1":"1","2":"patch","3":"2","4":"20","5":"core","6":"0.00280000"},{"1":"1","2":"patch","3":"2","4":"21","5":"core","6":"0.00000000"},{"1":"1","2":"patch","3":"2","4":"22","5":"core","6":"0.00010000"},{"1":"1","2":"patch","3":"2","4":"23","5":"core","6":"0.00000000"},{"1":"1","2":"patch","3":"3","4":"24","5":"core","6":"0.02250000"},{"1":"1","2":"patch","3":"3","4":"25","5":"core","6":"0.00000000"},{"1":"1","2":"patch","3":"3","4":"26","5":"core","6":"0.00000000"},{"1":"1","2":"patch","3":"3","4":"27","5":"core","6":"0.00010000"},{"1":"1","2":"patch","3":"1","4":"1","5":"enn","6":"7.00000000"},{"1":"1","2":"patch","3":"1","4":"2","5":"enn","6":"4.00000000"},{"1":"1","2":"patch","3":"1","4":"3","5":"enn","6":"2.82842712"},{"1":"1","2":"patch","3":"1","4":"4","5":"enn","6":"2.00000000"},{"1":"1","2":"patch","3":"1","4":"5","5":"enn","6":"2.00000000"},{"1":"1","2":"patch","3":"1","4":"6","5":"enn","6":"2.82842712"},{"1":"1","2":"patch","3":"1","4":"7","5":"enn","6":"4.12310563"},{"1":"1","2":"patch","3":"1","4":"8","5":"enn","6":"4.12310563"},{"1":"1","2":"patch","3":"1","4":"9","5":"enn","6":"4.24264069"},{"1":"1","2":"patch","3":"2","4":"10","5":"enn","6":"4.47213595"},{"1":"1","2":"patch","3":"2","4":"11","5":"enn","6":"4.47213595"},{"1":"1","2":"patch","3":"2","4":"12","5":"enn","6":"3.16227766"},{"1":"1","2":"patch","3":"2","4":"13","5":"enn","6":"2.00000000"},{"1":"1","2":"patch","3":"2","4":"14","5":"enn","6":"3.00000000"},{"1":"1","2":"patch","3":"2","4":"15","5":"enn","6":"2.00000000"},{"1":"1","2":"patch","3":"2","4":"16","5":"enn","6":"3.00000000"},{"1":"1","2":"patch","3":"2","4":"17","5":"enn","6":"3.00000000"},{"1":"1","2":"patch","3":"2","4":"18","5":"enn","6":"3.00000000"},{"1":"1","2":"patch","3":"2","4":"19","5":"enn","6":"2.82842712"},{"1":"1","2":"patch","3":"2","4":"20","5":"enn","6":"5.83095189"},{"1":"1","2":"patch","3":"2","4":"21","5":"enn","6":"2.00000000"},{"1":"1","2":"patch","3":"2","4":"22","5":"enn","6":"2.82842712"},{"1":"1","2":"patch","3":"2","4":"23","5":"enn","6":"3.16227766"},{"1":"1","2":"patch","3":"3","4":"24","5":"enn","6":"2.00000000"},{"1":"1","2":"patch","3":"3","4":"25","5":"enn","6":"2.00000000"},{"1":"1","2":"patch","3":"3","4":"26","5":"enn","6":"2.00000000"},{"1":"1","2":"patch","3":"3","4":"27","5":"enn","6":"2.00000000"},{"1":"1","2":"patch","3":"1","4":"1","5":"frac","6":"1.00000000"},{"1":"1","2":"patch","3":"1","4":"2","5":"frac","6":"1.36521239"},{"1":"1","2":"patch","3":"1","4":"3","5":"frac","6":"1.39327285"},{"1":"1","2":"patch","3":"1","4":"4","5":"frac","6":"1.00000000"},{"1":"1","2":"patch","3":"1","4":"5","5":"frac","6":"1.00000000"},{"1":"1","2":"patch","3":"1","4":"6","5":"frac","6":"1.21970667"},{"1":"1","2":"patch","3":"1","4":"7","5":"frac","6":"1.26185951"},{"1":"1","2":"patch","3":"1","4":"8","5":"frac","6":"1.13864688"},{"1":"1","2":"patch","3":"1","4":"9","5":"frac","6":"1.00000000"},{"1":"1","2":"patch","3":"2","4":"10","5":"frac","6":"1.26642554"},{"1":"1","2":"patch","3":"2","4":"11","5":"frac","6":"1.16992500"},{"1":"1","2":"patch","3":"2","4":"12","5":"frac","6":"2.00000000"},{"1":"1","2":"patch","3":"2","4":"13","5":"frac","6":"1.31753383"},{"1":"1","2":"patch","3":"2","4":"14","5":"frac","6":"1.16992500"},{"1":"1","2":"patch","3":"2","4":"15","5":"frac","6":"1.00000000"},{"1":"1","2":"patch","3":"2","4":"16","5":"frac","6":"1.30862575"},{"1":"1","2":"patch","3":"2","4":"17","5":"frac","6":"1.00000000"},{"1":"1","2":"patch","3":"2","4":"18","5":"frac","6":"1.26185951"},{"1":"1","2":"patch","3":"2","4":"19","5":"frac","6":"1.26185951"},{"1":"1","2":"patch","3":"2","4":"20","5":"frac","6":"1.13903334"},{"1":"1","2":"patch","3":"2","4":"21","5":"frac","6":"1.00000000"},{"1":"1","2":"patch","3":"2","4":"22","5":"frac","6":"1.12915007"},{"1":"1","2":"patch","3":"2","4":"23","5":"frac","6":"1.26185951"},{"1":"1","2":"patch","3":"3","4":"24","5":"frac","6":"1.45833110"},{"1":"1","2":"patch","3":"3","4":"25","5":"frac","6":"1.26185951"},{"1":"1","2":"patch","3":"3","4":"26","5":"frac","6":"1.26185951"},{"1":"1","2":"patch","3":"3","4":"27","5":"frac","6":"1.20411998"},{"1":"1","2":"patch","3":"1","4":"1","5":"gyrate","6":"0.00000000"},{"1":"1","2":"patch","3":"1","4":"2","5":"gyrate","6":"1.00015229"},{"1":"1","2":"patch","3":"1","4":"3","5":"gyrate","6":"8.55192604"},{"1":"1","2":"patch","3":"1","4":"4","5":"gyrate","6":"0.00000000"},{"1":"1","2":"patch","3":"1","4":"5","5":"gyrate","6":"0.00000000"},{"1":"1","2":"patch","3":"1","4":"6","5":"gyrate","6":"1.63148582"},{"1":"1","2":"patch","3":"1","4":"7","5":"gyrate","6":"0.66666667"},{"1":"1","2":"patch","3":"1","4":"8","5":"gyrate","6":"0.84780148"},{"1":"1","2":"patch","3":"1","4":"9","5":"gyrate","6":"0.00000000"},{"1":"1","2":"patch","3":"2","4":"10","5":"gyrate","6":"2.49548945"},{"1":"1","2":"patch","3":"2","4":"11","5":"gyrate","6":"0.50000000"},{"1":"1","2":"patch","3":"2","4":"12","5":"gyrate","6":"0.70710678"},{"1":"1","2":"patch","3":"2","4":"13","5":"gyrate","6":"6.36373298"},{"1":"1","2":"patch","3":"2","4":"14","5":"gyrate","6":"0.50000000"},{"1":"1","2":"patch","3":"2","4":"15","5":"gyrate","6":"0.00000000"},{"1":"1","2":"patch","3":"2","4":"16","5":"gyrate","6":"2.51028194"},{"1":"1","2":"patch","3":"2","4":"17","5":"gyrate","6":"0.00000000"},{"1":"1","2":"patch","3":"2","4":"18","5":"gyrate","6":"0.65403884"},{"1":"1","2":"patch","3":"2","4":"19","5":"gyrate","6":"0.65403884"},{"1":"1","2":"patch","3":"2","4":"20","5":"gyrate","6":"3.17066816"},{"1":"1","2":"patch","3":"2","4":"21","5":"gyrate","6":"0.70710678"},{"1":"1","2":"patch","3":"2","4":"22","5":"gyrate","6":"0.97479327"},{"1":"1","2":"patch","3":"2","4":"23","5":"gyrate","6":"0.66666667"},{"1":"1","2":"patch","3":"3","4":"24","5":"gyrate","6":"11.23638380"},{"1":"1","2":"patch","3":"3","4":"25","5":"gyrate","6":"1.23682432"},{"1":"1","2":"patch","3":"3","4":"26","5":"gyrate","6":"0.66666667"},{"1":"1","2":"patch","3":"3","4":"27","5":"gyrate","6":"1.24202906"},{"1":"1","2":"patch","3":"1","4":"1","5":"ncore","6":"0.00000000"},{"1":"1","2":"patch","3":"1","4":"2","5":"ncore","6":"0.00000000"},{"1":"1","2":"patch","3":"1","4":"3","5":"ncore","6":"3.00000000"},{"1":"1","2":"patch","3":"1","4":"4","5":"ncore","6":"0.00000000"},{"1":"1","2":"patch","3":"1","4":"5","5":"ncore","6":"0.00000000"},{"1":"1","2":"patch","3":"1","4":"6","5":"ncore","6":"2.00000000"},{"1":"1","2":"patch","3":"1","4":"7","5":"ncore","6":"0.00000000"},{"1":"1","2":"patch","3":"1","4":"8","5":"ncore","6":"0.00000000"},{"1":"1","2":"patch","3":"1","4":"9","5":"ncore","6":"0.00000000"},{"1":"1","2":"patch","3":"2","4":"10","5":"ncore","6":"1.00000000"},{"1":"1","2":"patch","3":"2","4":"11","5":"ncore","6":"0.00000000"},{"1":"1","2":"patch","3":"2","4":"12","5":"ncore","6":"0.00000000"},{"1":"1","2":"patch","3":"2","4":"13","5":"ncore","6":"2.00000000"},{"1":"1","2":"patch","3":"2","4":"14","5":"ncore","6":"0.00000000"},{"1":"1","2":"patch","3":"2","4":"15","5":"ncore","6":"0.00000000"},{"1":"1","2":"patch","3":"2","4":"16","5":"ncore","6":"3.00000000"},{"1":"1","2":"patch","3":"2","4":"17","5":"ncore","6":"0.00000000"},{"1":"1","2":"patch","3":"2","4":"18","5":"ncore","6":"0.00000000"},{"1":"1","2":"patch","3":"2","4":"19","5":"ncore","6":"0.00000000"},{"1":"1","2":"patch","3":"2","4":"20","5":"ncore","6":"1.00000000"},{"1":"1","2":"patch","3":"2","4":"21","5":"ncore","6":"0.00000000"},{"1":"1","2":"patch","3":"2","4":"22","5":"ncore","6":"1.00000000"},{"1":"1","2":"patch","3":"2","4":"23","5":"ncore","6":"0.00000000"},{"1":"1","2":"patch","3":"3","4":"24","5":"ncore","6":"11.00000000"},{"1":"1","2":"patch","3":"3","4":"25","5":"ncore","6":"0.00000000"},{"1":"1","2":"patch","3":"3","4":"26","5":"ncore","6":"0.00000000"},{"1":"1","2":"patch","3":"3","4":"27","5":"ncore","6":"1.00000000"},{"1":"1","2":"patch","3":"1","4":"1","5":"para","6":"4.00000000"},{"1":"1","2":"patch","3":"1","4":"2","5":"para","6":"2.40000000"},{"1":"1","2":"patch","3":"1","4":"3","5":"para","6":"0.87837838"},{"1":"1","2":"patch","3":"1","4":"4","5":"para","6":"4.00000000"},{"1":"1","2":"patch","3":"1","4":"5","5":"para","6":"4.00000000"},{"1":"1","2":"patch","3":"1","4":"6","5":"para","6":"1.42857143"},{"1":"1","2":"patch","3":"1","4":"7","5":"para","6":"2.66666667"},{"1":"1","2":"patch","3":"1","4":"8","5":"para","6":"2.00000000"},{"1":"1","2":"patch","3":"1","4":"9","5":"para","6":"4.00000000"},{"1":"1","2":"patch","3":"2","4":"10","5":"para","6":"1.08571429"},{"1":"1","2":"patch","3":"2","4":"11","5":"para","6":"3.00000000"},{"1":"1","2":"patch","3":"2","4":"12","5":"para","6":"4.00000000"},{"1":"1","2":"patch","3":"2","4":"13","5":"para","6":"0.83673469"},{"1":"1","2":"patch","3":"2","4":"14","5":"para","6":"3.00000000"},{"1":"1","2":"patch","3":"2","4":"15","5":"para","6":"4.00000000"},{"1":"1","2":"patch","3":"2","4":"16","5":"para","6":"1.33333333"},{"1":"1","2":"patch","3":"2","4":"17","5":"para","6":"4.00000000"},{"1":"1","2":"patch","3":"2","4":"18","5":"para","6":"2.66666667"},{"1":"1","2":"patch","3":"2","4":"19","5":"para","6":"2.66666667"},{"1":"1","2":"patch","3":"2","4":"20","5":"para","6":"0.70175439"},{"1":"1","2":"patch","3":"2","4":"21","5":"para","6":"2.00000000"},{"1":"1","2":"patch","3":"2","4":"22","5":"para","6":"1.71428571"},{"1":"1","2":"patch","3":"2","4":"23","5":"para","6":"2.66666667"},{"1":"1","2":"patch","3":"3","4":"24","5":"para","6":"0.76148796"},{"1":"1","2":"patch","3":"3","4":"25","5":"para","6":"1.77777778"},{"1":"1","2":"patch","3":"3","4":"26","5":"para","6":"2.66666667"},{"1":"1","2":"patch","3":"3","4":"27","5":"para","6":"1.60000000"},{"1":"1","2":"patch","3":"1","4":"1","5":"perim","6":"4.00000000"},{"1":"1","2":"patch","3":"1","4":"2","5":"perim","6":"12.00000000"},{"1":"1","2":"patch","3":"1","4":"3","5":"perim","6":"130.00000000"},{"1":"1","2":"patch","3":"1","4":"4","5":"perim","6":"4.00000000"},{"1":"1","2":"patch","3":"1","4":"5","5":"perim","6":"4.00000000"},{"1":"1","2":"patch","3":"1","4":"6","5":"perim","6":"20.00000000"},{"1":"1","2":"patch","3":"1","4":"7","5":"perim","6":"8.00000000"},{"1":"1","2":"patch","3":"1","4":"8","5":"perim","6":"10.00000000"},{"1":"1","2":"patch","3":"1","4":"9","5":"perim","6":"4.00000000"},{"1":"1","2":"patch","3":"2","4":"10","5":"perim","6":"38.00000000"},{"1":"1","2":"patch","3":"2","4":"11","5":"perim","6":"6.00000000"},{"1":"1","2":"patch","3":"2","4":"12","5":"perim","6":"8.00000000"},{"1":"1","2":"patch","3":"2","4":"13","5":"perim","6":"82.00000000"},{"1":"1","2":"patch","3":"2","4":"14","5":"perim","6":"6.00000000"},{"1":"1","2":"patch","3":"2","4":"15","5":"perim","6":"4.00000000"},{"1":"1","2":"patch","3":"2","4":"16","5":"perim","6":"32.00000000"},{"1":"1","2":"patch","3":"2","4":"17","5":"perim","6":"4.00000000"},{"1":"1","2":"patch","3":"2","4":"18","5":"perim","6":"8.00000000"},{"1":"1","2":"patch","3":"2","4":"19","5":"perim","6":"8.00000000"},{"1":"1","2":"patch","3":"2","4":"20","5":"perim","6":"40.00000000"},{"1":"1","2":"patch","3":"2","4":"21","5":"perim","6":"8.00000000"},{"1":"1","2":"patch","3":"2","4":"22","5":"perim","6":"12.00000000"},{"1":"1","2":"patch","3":"2","4":"23","5":"perim","6":"8.00000000"},{"1":"1","2":"patch","3":"3","4":"24","5":"perim","6":"348.00000000"},{"1":"1","2":"patch","3":"3","4":"25","5":"perim","6":"16.00000000"},{"1":"1","2":"patch","3":"3","4":"26","5":"perim","6":"8.00000000"},{"1":"1","2":"patch","3":"3","4":"27","5":"perim","6":"16.00000000"},{"1":"1","2":"patch","3":"1","4":"1","5":"shape","6":"1.00000000"},{"1":"1","2":"patch","3":"1","4":"2","5":"shape","6":"1.20000000"},{"1":"1","2":"patch","3":"1","4":"3","5":"shape","6":"2.60000000"},{"1":"1","2":"patch","3":"1","4":"4","5":"shape","6":"1.00000000"},{"1":"1","2":"patch","3":"1","4":"5","5":"shape","6":"1.00000000"},{"1":"1","2":"patch","3":"1","4":"6","5":"shape","6":"1.25000000"},{"1":"1","2":"patch","3":"1","4":"7","5":"shape","6":"1.00000000"},{"1":"1","2":"patch","3":"1","4":"8","5":"shape","6":"1.00000000"},{"1":"1","2":"patch","3":"1","4":"9","5":"shape","6":"1.00000000"},{"1":"1","2":"patch","3":"2","4":"10","5":"shape","6":"1.58333333"},{"1":"1","2":"patch","3":"2","4":"11","5":"shape","6":"1.00000000"},{"1":"1","2":"patch","3":"2","4":"12","5":"shape","6":"1.33333333"},{"1":"1","2":"patch","3":"2","4":"13","5":"shape","6":"2.05000000"},{"1":"1","2":"patch","3":"2","4":"14","5":"shape","6":"1.00000000"},{"1":"1","2":"patch","3":"2","4":"15","5":"shape","6":"1.00000000"},{"1":"1","2":"patch","3":"2","4":"16","5":"shape","6":"1.60000000"},{"1":"1","2":"patch","3":"2","4":"17","5":"shape","6":"1.00000000"},{"1":"1","2":"patch","3":"2","4":"18","5":"shape","6":"1.00000000"},{"1":"1","2":"patch","3":"2","4":"19","5":"shape","6":"1.00000000"},{"1":"1","2":"patch","3":"2","4":"20","5":"shape","6":"1.25000000"},{"1":"1","2":"patch","3":"2","4":"21","5":"shape","6":"1.00000000"},{"1":"1","2":"patch","3":"2","4":"22","5":"shape","6":"1.00000000"},{"1":"1","2":"patch","3":"2","4":"23","5":"shape","6":"1.00000000"},{"1":"1","2":"patch","3":"3","4":"24","5":"shape","6":"4.04651163"},{"1":"1","2":"patch","3":"3","4":"25","5":"shape","6":"1.33333333"},{"1":"1","2":"patch","3":"3","4":"26","5":"shape","6":"1.00000000"},{"1":"1","2":"patch","3":"3","4":"27","5":"shape","6":"1.14285714"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>But it still creates big shoes for landscapemetrics to fill – and landscapemetrics fills them admirably. This package was the engine behind <a href="../2022-08-10-ground-filtering">the landscape structure section of my ground filtering paper this year</a>, and is so user-friendly. I’m very grateful that this tool exists <em>at all</em> now that FRAGSTATS is no longer with us; that the package is <em>good</em> is more than we deserve.</p>
</section>
</section>
<section id="devops" class="level2">
<h2 class="anchored" data-anchor-id="devops">DevOps</h2>
<section id="pi-hole" class="level3">
<h3 class="anchored" data-anchor-id="pi-hole"><a href="https://pi-hole.net/">Pi-hole</a></h3>
<p>If you’re nerdy enough to have a sever kicking around, you owe it to yourself to set up a Pi-hole. A <em>comical</em> amount of the total payload size for any website is made up of advertisements and tracking code that is annoying at best and actively malicious at worst; letting that unwanted data into your network and onto your machine is a real security risk. You should use an ad blocker in your browser for this reason (I personally use <a href="https://adnauseam.io/">Ad Nauseum</a>), but adding an extra layer of security to your network is also a great idea.</p>
<p>Pi-holes are relatively easy to set up (in comparison to, let’s say, Python), will help your websites load faster, and will help prevent malicious code from affecting your machines. I can’t recommend them enough.</p>
</section>
<section id="plumber-by-barret-schloerke-pool-by-joe-cheng-and-memoise-by-hadley-wickham-and-jim-hester-among-others" class="level3">
<h3 class="anchored" data-anchor-id="plumber-by-barret-schloerke-pool-by-joe-cheng-and-memoise-by-hadley-wickham-and-jim-hester-among-others"><a href="https://www.rplumber.io/">plumber</a> by Barret Schloerke, <a href="https://rstudio.github.io/pool/index.html">pool</a> by Joe Cheng, and <a href="https://memoise.r-lib.org/index.html">memoise</a> by Hadley Wickham and Jim Hester (among others)</h3>
<p>I’m cheating, because technically these next three packages belong in the next section, but also a <em>huge</em> amount of my work this year has been helped by having these packages around. The plumber package makes it comically easy to set up a REST API using R, and we lean on it to run the data delivery infrastructure for our research group. I don’t know how they did it, but the team behind plumber managed to make it so writing API code <em>feels</em> like writing analysis or processing code, even though it’s a completely different problem space. It’s fantastic.</p>
<p>This year in particular we’ve been focused on speeding up our API. For that purpose, we’ve turned to pool and memoise: the pool package caches database connections so that you don’t need to spend the time re-establishing connections for each new request that comes through; the memoise package caches function calls, so that you don’t need to spend the time re-calculating the results of a function that you recently executed. By making our data retrieval API lean heavily on these two packages, we were able to cut our average download times in <em>half</em> – not the server time, not the individual function calls we altered, but time from user making a request to having all of the data they required. And the changes required were painless – we were already using DBI, so using pool took roughly no work; using memoise took maybe an hour of my time. These packages make working with APIs a treat, even in a “statistical computing and graphics” language.</p>
</section>
<section id="openmetrics-by-aaron-jacobs-and-logger-by-gergely-daróczi" class="level3">
<h3 class="anchored" data-anchor-id="openmetrics-by-aaron-jacobs-and-logger-by-gergely-daróczi"><a href="https://github.com/atheriel/openmetrics/">openmetrics</a> by Aaron Jacobs and <a href="https://daroczig.github.io/logger/">logger</a> by Gergely Daróczi</h3>
<p>Speaking of APIs, these two packages have been absolute workhorses for us over the past year. The openmetrics package writes metrics about your API to a format that’s understandable by <a href="https://prometheus.io/">Prometheus</a>, which in turn is easily queried via <a href="https://grafana.com/">Grafana</a>; combined, these tools have formed our main observability stack for our data retrieval API ever since we stood it up. The logger package, meanwhile, does exactly what you’d expect: it emits logs, of various levels, to wherever you direct it. Having good tooling for monitoring and logging has been incredibly helpful as we need to debug and otherwise alter our production API, and I’ve been extremely happy with our setup.</p>
</section>
</section>
<section id="the-posit-empire" class="level2">
<h2 class="anchored" data-anchor-id="the-posit-empire">The Posit Empire</h2>
<p>Last, but certainly not least, there’s a huge suite of tools I use nearly every day from <a href="https://posit.co/">Posit, PBC</a> (née RStudio). Because this post is rather long, and I wanted to focus on smaller projects, I’m going to write a bit less about each; that is not because I like them any less.</p>
<p><img src="favorites.jpg" class="img-fluid" alt="An image of a book cover, with three bears holding hands; the book is called 'You're All My Favorites'"></p>
<section id="quarto" class="level3">
<h3 class="anchored" data-anchor-id="quarto"><a href="https://quarto.org/">Quarto</a></h3>
<p>I’ve been a huge Quarto booster since it was released; heck, I went to (I think) the first public Quarto talk at the Boston RUG meetup. This site is written in Quarto; my last three papers have been written in Quarto; the talk I’m giving Wednesday is written in Quarto. I’ve written <a href="https://github.com/mikemahoney218/quarto-arxiv">three</a> <a href="https://github.com/mikemahoney218/quarto-tandf">Quarto</a> <a href="https://github.com/mikemahoney218/quarto-agu">formats</a>. A huge amount of my job is “writing” – writing code, papers, talks, and so on – and being able to treat each form of writing in the same way, without needing to switch my tooling up is a <em>huge</em> help when I need to switch across tasks.</p>
</section>
<section id="recipes" class="level3">
<h3 class="anchored" data-anchor-id="recipes"><a href="https://recipes.tidymodels.org/">recipes</a></h3>
<p>I think I need to write a longer post about recipes at some point, because this package is <em>great</em>. In isolation, recipes makes it extremely easy to do feature engineering in a clean, ergonomic way; I teach with it even when I’m not teaching with tidymodels. But when combined with the rest of the tidymodels ecosystem, recipes really shines, helping you avoid data leakage and keeping your data preprocessing pipelines consistent across iterations.</p>
</section>
<section id="yardstick" class="level3">
<h3 class="anchored" data-anchor-id="yardstick"><a href="https://yardstick.tidymodels.org/">yardstick</a></h3>
<p>Want to calculate RMSE of two numeric columns in a data frame?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>yardstick<span class="sc">::</span><span class="fu">rmse</span>(Orange, age, circumference)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[".metric"],"name":[1],"type":["chr"],"align":["left"]},{"label":[".estimator"],"name":[2],"type":["chr"],"align":["left"]},{"label":[".estimate"],"name":[3],"type":["dbl"],"align":["right"]}],"data":[{"1":"rmse","2":"standard","3":"915.4996"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>Decide you want to calculate MAE instead?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>yardstick<span class="sc">::</span><span class="fu">mae</span>(Orange, age, circumference)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[".metric"],"name":[1],"type":["chr"],"align":["left"]},{"label":[".estimator"],"name":[2],"type":["chr"],"align":["left"]},{"label":[".estimate"],"name":[3],"type":["dbl"],"align":["right"]}],"data":[{"1":"mae","2":"standard","3":"806.2857"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>Want to calculate a <em>ton</em> of metrics all at once?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>yardstick<span class="sc">::</span><span class="fu">metric_set</span>(</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>  yardstick<span class="sc">::</span>rmse, </span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>  yardstick<span class="sc">::</span>mae,</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>  yardstick<span class="sc">::</span>rsq,</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>  yardstick<span class="sc">::</span>mape,</span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>  yardstick<span class="sc">::</span>msd</span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>)(Orange, age, circumference)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[".metric"],"name":[1],"type":["chr"],"align":["left"]},{"label":[".estimator"],"name":[2],"type":["chr"],"align":["left"]},{"label":[".estimate"],"name":[3],"type":["dbl"],"align":["right"]}],"data":[{"1":"rmse","2":"standard","3":"915.4996138"},{"1":"mae","2":"standard","3":"806.2857143"},{"1":"rsq","2":"standard","3":"0.8345167"},{"1":"mape","2":"standard","3":"85.5436006"},{"1":"msd","2":"standard","3":"806.2857143"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>yardstick is consistent in inputs and outputs, extremely clean, and a joy to work with. I’ve been extending it recently in <a href="https://github.com/mikemahoney218/waywiser/">waywiser</a> and enjoying the process a lot. Plus, just like with recipes, it integrates beautifully with the rest of tidymodels. Fantastic.</p>
</section>
<section id="ggplot2" class="level3">
<h3 class="anchored" data-anchor-id="ggplot2"><a href="https://ggplot2.tidyverse.org/">ggplot2</a></h3>
<p>I mean, come on.</p>
</section>
<section id="dplyr" class="level3">
<h3 class="anchored" data-anchor-id="dplyr"><a href="https://dplyr.tidyverse.org/">dplyr</a></h3>
<p>I mean, come <em>on</em>.</p>
</section>
<section id="tidyr" class="level3">
<h3 class="anchored" data-anchor-id="tidyr">tidyr</h3>
<p>I fell in love with tidyr back in 2017,<a href="#fn20" class="footnote-ref" id="fnref20" role="doc-noteref"><sup>20</sup></a> because it let me do things like this:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>Orange <span class="sc">|&gt;</span> </span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>  tidyr<span class="sc">::</span><span class="fu">nest</span>(<span class="at">data =</span> <span class="sc">-</span>Tree) <span class="sc">|&gt;</span> </span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">model =</span> purrr<span class="sc">::</span><span class="fu">map</span>(data, \(x) <span class="fu">lm</span>(circumference <span class="sc">~</span> age, x)),</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">rsq =</span> purrr<span class="sc">::</span><span class="fu">map_dbl</span>(model, \(x) <span class="fu">summary</span>(x)<span class="sc">$</span>r.squared)</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["Tree"],"name":[1],"type":["ord"],"align":["right"]},{"label":["data"],"name":[2],"type":["list"],"align":["right"]},{"label":["model"],"name":[3],"type":["list"],"align":["right"]},{"label":["rsq"],"name":[4],"type":["dbl"],"align":["right"]}],"data":[{"1":"1","2":"<nfnGrpdD[,2]>","3":"<S3: lm>","4":"0.9711463"},{"1":"2","2":"<nfnGrpdD[,2]>","3":"<S3: lm>","4":"0.9748846"},{"1":"3","2":"<nfnGrpdD[,2]>","3":"<S3: lm>","4":"0.9764930"},{"1":"4","2":"<nfnGrpdD[,2]>","3":"<S3: lm>","4":"0.9691634"},{"1":"5","2":"<nfnGrpdD[,2]>","3":"<S3: lm>","4":"0.9756256"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>I don’t know if dplyr has changed since then or if I’ve just gotten more familiar with it, but I’ve since realized I can use dplyr for this sort of thing instead:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>Orange <span class="sc">|&gt;</span> </span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">group_by</span>(Tree) <span class="sc">|&gt;</span> </span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">summarise</span>(</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">model =</span> <span class="fu">list</span>(<span class="fu">lm</span>(circumference <span class="sc">~</span> age, dplyr<span class="sc">::</span><span class="fu">cur_data</span>())),</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">rsq =</span> purrr<span class="sc">::</span><span class="fu">map_dbl</span>(model, \(x) <span class="fu">summary</span>(x)<span class="sc">$</span>r.squared)</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["Tree"],"name":[1],"type":["ord"],"align":["right"]},{"label":["model"],"name":[2],"type":["list"],"align":["right"]},{"label":["rsq"],"name":[3],"type":["dbl"],"align":["right"]}],"data":[{"1":"3","2":"<S3: lm>","3":"0.9764930"},{"1":"1","2":"<S3: lm>","3":"0.9711463"},{"1":"5","2":"<S3: lm>","3":"0.9756256"},{"1":"2","2":"<S3: lm>","3":"0.9748846"},{"1":"4","2":"<S3: lm>","3":"0.9691634"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>But for my more complicated split-apply-combine workflows, tidyr still reigns supreme.</p>
</section>
<section id="devtools-testthat-pkgdown" class="level3">
<h3 class="anchored" data-anchor-id="devtools-testthat-pkgdown">devtools, testthat, pkgdown</h3>
<p>Last but not least, the tools I probably use more than any other package. It is <em>incredible</em> how effectively devtools and testthat speed up package development; it’s hard to imagine any other tools being a greater force multiplier than these. I can count the number of times I have run <code>R CMD check</code> on one hand, and the number of times I’ve run <code>devtools::check()</code> on the atoms of the universe.</p>
<p>Similarly, pkgdown is an <em>incredible</em> tool for the entire community. The fact that it is now easy – I mean, <em>trivial</em> – to have a nice-looking HTML documentation website for any package, so long as it has a README and man pages, is incredible. It makes the software we write more accessible to users, and incentivizes writing <em>good</em> documentation by turning man pages and vignettes into marketing material and a public-facing homepage.</p>


</section>
</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>And that’s a big “might”. For the R packages I maintain, I’m able to track the number of downloads I get each day from the RStudio CRAN mirror. As I write this, this site is one of 103 mirrors, and while I <em>suspect</em> it’s the most popular one, I’m pretty confident that no one but CRAN actually <em>knows</em> – and to make matters worse, the people using the other 102 mirrors directly rather than the RStudio redirect are <em>most certainly</em> not a random sample. That means I’m only capturing some % of total downloads, but just about no one knows what % that might be, and it’s probably a different number for different packages. I can also track the number of clones each of my repos gets, but this is even less useful; <a href="https://github.com/tidymodels/spatialsample">spatialsample’s repo</a> was cloned 28 times yesterday, by a total of 4 people. Who are you people? Why are you cloning this repo so much?<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>To again use the RStudio download numbers as an example, a fun game is to check how many downloads even the least popular packages get each day. I have never, using <a href="https://hadley.shinyapps.io/cran-downloads/">Hadley’s app</a>, found a package with an average lower than ~5 downloads per day (see for instance my <a href="https://github.com/mikemahoney218/heddlr/">heddlr</a> package as a benchmark). Of course, if you have a stable userbase your users presumably <em>won’t</em> need to download your packages unless they get a new computer, a new version of R, or you release an update – which often causes spikes in the download numbers – so “number of downloads” is a pretty bad metric, even before we get into all the downloads from non-users or all the ways this number can be gamed.<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p>And frankly, I don’t think most maintainers would actually like this; issues on a bug tracker are meant to be individual tasks to be tackled, and so positive feedback sent through this channel is probably the right message in the wrong place.<a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn4"><p>Which, don’t get me wrong, is still very appreciated. Even at my least meditative, I’d rather <em>stop</em> making the mistake :)<a href="#fnref4" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn5"><p>A <a href="https://www.intel.com/content/www/us/en/products/details/nuc.html">NUC</a> running Ubuntu, which is really the perfect machine for “an inexpensive always-on computer that won’t deafen me with fans or beep really loudly when I’m asleep”.<a href="#fnref5" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn6"><p>I use <a href="https://tailscale.com/">tailscale</a>, which is <em>not</em> open source but would otherwise make this list.<a href="#fnref6" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn7"><p>“Element”; in this case, we’re measuring how much phosphorous is in each gram of a wood sample.<a href="#fnref7" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn8"><p>There is no such thing.<a href="#fnref8" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn9"><p>One example here: units objects are not numeric vectors, in the normal sense. You can’t do, for instance, <code>units::set_units(2, "m") + 1</code>; without knowing what units <code>1</code> is in, it’s impossible to say what the return value would be. A whole class of bugs, eliminated by <em>not</em> letting you do something.<a href="#fnref9" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn10"><p>(most)<a href="#fnref10" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn11"><p>Read: “Whenever I see people posting about a new package on Twitter”<a href="#fnref11" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn12"><p>Mostly in LaTeX. Another confession: I don’t entirely <em>understand</em> the point of HTML tables. This is probably because I do not write statistical analyses for the internet. For the types of content I consume via HTML, I want you to either give me a graph of the important message of your data, or to give me a CSV so I can go figure out the message for myself. The sorts of things I consume via PDF, or write for PDF formats, usually have a higher evidence bar.<a href="#fnref12" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn13"><p>Minus <a href="https://www.mm218.dev/papers/mahoney_stella_2020.pdf">Mahoney and Stella 2020</a>, which was written in Word; the horrors of formatting tables for that paper in Word is actually what got me into R Markdown in the first place.<a href="#fnref13" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn14"><p>I didn’t use rgeos or rgdal directly, other than as part of functions in the raster package; I’m also new enough to the space that I’ve <em>always</em> used sf, and never really touched sp or maptools.<a href="#fnref14" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn15"><p>The first version of raster hit CRAN in 2010. That we should all be so long-lasting and so useful!<a href="#fnref15" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn16"><p>Pretty often, though not always, me.<a href="#fnref16" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn17"><p>Pretty often, though not always, <a href="https://www.lucaskjohnson.com/">Lucas</a>.<a href="#fnref17" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn18"><p>The original draft, written very late at night, said “a little bit like recommending not being on fire” here. I changed that, because it did not make any sense, but I also found it really funny, hence this note.<a href="#fnref18" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn19"><p>As in, “I had more than one college course that was, in no small part, <em>on</em> FRAGSTATS”.<a href="#fnref19" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn20"><p>Which means yes, I do sometimes still use <code>gather()</code>, though weirdly never <code>spread()</code>.<a href="#fnref20" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/mm218\.dev");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<script src="https://utteranc.es/client.js" repo="mikemahoney218/mm218.dev" issue-term="pathname" theme="github-light" crossorigin="anonymous" async="">
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>© Copyright 2024 Mike Mahoney. Except where otherwise noted, all text and images licensed CC-BY-NC 4.0.</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>