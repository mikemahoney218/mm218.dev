<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Easily Obtain Spatial Data and Make Better Maps • spacey</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Easily Obtain Spatial Data and Make Better Maps">
<meta property="og:description" content="One of the remaining pain points in making
    beautiful maps via packages like rayshader is both obtaining and
    processing spatial data to build from. spacey aims to make it easier
    to obtain and use this data for locations within the United States,
    providing utilities to download USGS and ESRI geospatial data and
    quickly turn it into maps.">
<meta property="og:image" content="https://mikemahoney218.github.io/spacey/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-127971769-2"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-127971769-2');
</script>
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">spacey</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.1.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"></ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/introduction-to-spacey.html">Introduction to spacey</a>
    </li>
    <li>
      <a href="articles/automap-walkthrough.html">automap reference</a>
    </li>
  </ul>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="news/index.html">News</a>
</li>
<li>
  <a href="https://github.com/mikemahoney218/spacey">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="spacey" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#spacey" class="anchor"></a>spacey <a href="https:/mikemahoney218.github.io/spacey"><img src="reference/figures/logo.png" align="right" height="139"></a>
</h1></div>
<!-- badges: start -->

<p>The <code>spacey</code> package provides three main functions to make it easy to quickly build beautiful maps of locations in the United States via the <code>[rayshader](https://github.com/tylermorganwall/rayshader)</code> package. First off, it provides an <code>automap</code> function to quickly make maps using data from the USGS national map:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode R"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw">library</span>(spacey)</a>
<a class="sourceLine" id="cb1-2" data-line-number="2">example_map &lt;-<span class="st"> </span><span class="kw">automap</span>(<span class="fl">44.121268</span>, <span class="fl">-73.903734</span>)</a>
<a class="sourceLine" id="cb1-3" data-line-number="3">example_map</a></code></pre></div>
<p><img src="reference/figures/README-johns_brook_basic-1.png" width="100%"></p>
<p>As well as letting you incorporate overlay textures from ESRI’s MapServer API:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode R"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1">example_map<span class="op">$</span><span class="kw">update_values</span>(<span class="dt">overlay =</span> <span class="st">"World_Imagery"</span>)</a></code></pre></div>
<p>And optionally even turn these into 3D visualizations:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode R"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1">example_map<span class="op">$</span>method &lt;-<span class="st"> "3d"</span></a>
<a class="sourceLine" id="cb3-2" data-line-number="2">example_map</a></code></pre></div>
<p><img src="reference/figures/README-johns_brook_3d-1.png" width="100%"></p>
<p>All of these can also work with the <code>future</code> package to speed up processing, letting you iterate on your map designs faster:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode R"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="kw">library</span>(future)</a>
<a class="sourceLine" id="cb4-2" data-line-number="2"><span class="kw">plan</span>(<span class="st">"sequential"</span>)</a>
<a class="sourceLine" id="cb4-3" data-line-number="3">tictoc<span class="op">::</span><span class="kw">tic</span>()</a>
<a class="sourceLine" id="cb4-4" data-line-number="4">example_map &lt;-<span class="st"> </span><span class="kw">automap</span>(<span class="fl">44.121268</span>, <span class="fl">-73.903734</span>)</a>
<a class="sourceLine" id="cb4-5" data-line-number="5">tictoc<span class="op">::</span><span class="kw">toc</span>()</a>
<a class="sourceLine" id="cb4-6" data-line-number="6"><span class="co">#&gt; 22.934 sec elapsed</span></a>
<a class="sourceLine" id="cb4-7" data-line-number="7"></a>
<a class="sourceLine" id="cb4-8" data-line-number="8"><span class="kw">plan</span>(<span class="st">"multisession"</span>)</a>
<a class="sourceLine" id="cb4-9" data-line-number="9">tictoc<span class="op">::</span><span class="kw">tic</span>()</a>
<a class="sourceLine" id="cb4-10" data-line-number="10">example_map &lt;-<span class="st"> </span><span class="kw">automap</span>(<span class="fl">44.121268</span>, <span class="fl">-73.903734</span>)</a>
<a class="sourceLine" id="cb4-11" data-line-number="11">tictoc<span class="op">::</span><span class="kw">toc</span>()</a>
<a class="sourceLine" id="cb4-12" data-line-number="12"><span class="co">#&gt; 16.619 sec elapsed</span></a></code></pre></div>
<p>And while <code>automap</code> tries to make it easy to configure these maps, <code>spacey</code> also lets you save off your heightmaps and overlays directly through the functions <code>get_heightmap</code> and <code>get_overlay</code>, so that you can work directly with <code>rayshader</code> to make these maps by yourself.</p>
<p>There’s a lot more to these three functions, alongside a few basic geospatial utilities <code>spacey</code> implements to make it easier to make maps from your data. For more information, check out the <a href="https://mikemahoney218.github.io/spacey/articles/introduction-to-spacey.html">introductory vignette</a>! ## Installation</p>
<p>If the CRAN version badge above is green, you can install the released version of <code>spacey</code> from <a href="https://CRAN.R-project.org">CRAN</a> with:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode R"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="kw">install.packages</span>(<span class="st">"spacey"</span>)</a></code></pre></div>
<p>You can always get the most up-to-date development version with:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode R"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="co"># install.packages("remotes")</span></a>
<a class="sourceLine" id="cb6-2" data-line-number="2">remotes<span class="op">::</span><span class="kw">install_github</span>(<span class="st">"mikemahoney218/spacey"</span>)</a></code></pre></div>
<div id="functions" class="section level2">
<h2 class="hasAnchor">
<a href="#functions" class="anchor"></a>Functions</h2>
<p>At the moment, <code>spacey</code> consists mainly of the following functions:</p>
<ul>
<li>
<code>automap</code> uses a combination of sensible defaults to produce attractive square map outputs from a single central point location.</li>
<li>
<code>get_heightmap</code> retrieves an elevation map from the USGS for a specified boundary box and translates it into an R matrix.</li>
<li>
<code>get_image_overlay</code> retrieves a texture from ESRI for a specified boundary box and translates it into a matrix.</li>
</ul>
<p>It also includes several helper functions, including:</p>
<ul>
<li>
<code>get_coord_bounding_box</code> finds the smallest rectangle required to contain a list of lat/long coordinates.</li>
<li>
<code>get_centroid_bounding_box</code> finds the corners of a square with diagonals a set distance from a central point, enabling map creation for a single central lat/long combination.</li>
<li>
<code>get_centroid</code> finds the central point for matched vectors of latitude and longitude.</li>
<li>
<code>load_heightmap</code> can import stored .tif files in order to used saved USGS national map data (or potentially other sources).</li>
<li>
<code>load_overlay</code> is an <em>extremely</em> thin wrapper around <a href="http://www.rforge.net/png/">png::readPNG</a>, used to read stored ESRI image overlay files.</li>
</ul>
</div>
<div id="limitations" class="section level2">
<h2 class="hasAnchor">
<a href="#limitations" class="anchor"></a>Limitations</h2>
<p>At the moment, <code>spacey</code> is only able to retrieve data from the USGS National Map API, limiting its use to the United States. If you have a good API for other regions, open an issue or submit a PR!</p>
<p>Similarly, most geospatial calculations implemented in this package don’t deal well with areas near the poles or Prime Meridian. Given the spatial constraints of the USGS dataset, this isn’t a problem for current use cases, but be careful extending these functions outside of this package.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Download from CRAN at <br><a href="https://cloud.r-project.org/package=spacey">https://​cloud.r-project.org/​package=spacey</a>
</li>
<li>Browse source code at <br><a href="https://github.com/mikemahoney218/spacey/">https://​github.com/​mikemahoney218/​spacey/​</a>
</li>
<li>Report a bug at <br><a href="https://github.com/mikemahoney218/spacey/issues">https://​github.com/​mikemahoney218/​spacey/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>
<div class="community">
<h2>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
<li><a href="CODE_OF_CONDUCT.html">Code of conduct</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Michael Mahoney <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0003-2402-304X" target="orcid.widget" aria-label="ORCID"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://CRAN.R-project.org/package=spacey"><img src="https://www.r-pkg.org/badges/version/spacey" alt="CRAN status"></a></li>
<li><a href="https://www.tidyverse.org/lifecycle/#experimental"><img src="https://img.shields.io/badge/lifecycle-experimental-orange.svg" alt="Lifecycle: experimental"></a></li>
<li><a href="https://travis-ci.com/mikemahoney218/spacey"><img src="https://travis-ci.com/mikemahoney218/spacey.svg?branch=master" alt="Travis CI status"></a></li>
<li><a href="https://ci.appveyor.com/project/mikemahoney218/spacey"><img src="https://ci.appveyor.com/api/projects/status/github/mikemahoney218/spacey?branch=master&amp;svg=true" alt="AppVeyor Build Status"></a></li>
<li><a href="https://codecov.io/gh/mikemahoney218/spacey?branch=master"><img src="https://codecov.io/gh/mikemahoney218/spacey/branch/master/graph/badge.svg" alt="Codecov test coverage"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by Michael Mahoney.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.0.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
