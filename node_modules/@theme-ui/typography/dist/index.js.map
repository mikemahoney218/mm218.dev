{"version":3,"file":"index.js","sources":["../src/styles.js","../src/to-theme.js"],"sourcesContent":["// theme.styles object for use with typography.js-generated theme object\n// similar to typography.js style output, with these differences\n// - only includes styles for markdown elements\n// - does not include color styles\n// - does not include responsive styles\n\nimport assign from 'object-assign'\n\nconst heading = {\n  fontFamily: 'heading',\n  lineHeight: 'heading',\n  fontWeight: 'heading',\n}\n\nexport const styles = {\n  root: {\n    fontFamily: 'body',\n    fontSize: 2,\n    fontWeight: 'body',\n    lineHeight: 'body',\n  },\n  img: {\n    maxWidth: '100%',\n  },\n  h1: assign(\n    {\n      fontSize: 5,\n    },\n    heading\n  ),\n  h2: assign(\n    {\n      fontSize: 4,\n    },\n    heading\n  ),\n  h3: assign(\n    {\n      fontSize: 3,\n    },\n    heading\n  ),\n  h4: assign(\n    {\n      fontSize: 2,\n    },\n    heading\n  ),\n  h5: assign(\n    {\n      fontSize: 1,\n    },\n    heading\n  ),\n  h6: assign(\n    {\n      fontSize: 0,\n    },\n    heading\n  ),\n  ul: {\n    listStylePosition: 'outside',\n    listStyleImage: 'none',\n    ml: 3,\n  },\n  ol: {\n    listStylePosition: 'outside',\n    listStyleImage: 'none',\n    ml: 3,\n  },\n  li: {\n    mb: 2,\n    pl: 0,\n    ol: {\n      my: 2,\n      ml: 3,\n    },\n    ul: {\n      my: 2,\n      ml: 3,\n    },\n    p: {\n      mb: 2,\n    },\n  },\n  p: {},\n  table: {\n    borderCollapse: 'collapse',\n    width: '100%',\n  },\n  th: {\n    textAlign: 'left',\n    borderBottom: '1px solid',\n    px: 2,\n    py: 1,\n    ':first-child': {\n      pl: 0,\n    },\n    ':last-child': {\n      pr: 0,\n    },\n  },\n  td: {\n    textAlign: 'left',\n    borderBottom: '1px solid',\n    px: 2,\n    py: 1,\n    mt: '-1px',\n    ':first-child': {\n      pl: 0,\n    },\n    ':last-child': {\n      pr: 0,\n    },\n  },\n  blockquote: {\n    mx: 3,\n  },\n  hr: {\n    border: 0,\n    borderBottom: '1px solid',\n    mt: '-1px',\n    mb: 3,\n  },\n  b: {\n    fontWeight: 'bold',\n  },\n  strong: {\n    fontWeight: 'bold',\n  },\n  code: {\n    fontSize: '85%',\n  },\n  pre: {\n    fontSize: '85%',\n    padding: 3,\n  },\n}\n\nconst headings = ['h6', 'h5', 'h4', 'h3', 'h2', 'h1']\nconst blockElements = [\n  ...headings,\n  'ul',\n  'ol',\n  'p',\n  'pre',\n  'table',\n  'blockquote',\n  'img',\n  'hr',\n]\n\nblockElements.forEach(tag => {\n  assign(styles, {\n    [tag]: assign(\n      {\n        padding: 0,\n        margin: 0,\n        marginBottom: 3,\n      },\n      styles[tag]\n    ),\n  })\n})\n\nexport default styles\n","// custom implementation of typography.js for use in theme-ui\nimport verticalRhythm from 'compass-vertical-rhythm'\nimport ms from 'modularscale'\nimport styles from './styles'\n\n// - uses unitless values\n// - creates base theme object\n// - uses a static theme.styles object for consumption in theme-ui\n// - ignores overrideThemeStyles\n// - does not include color styles\n// - should be mostly compatible with existing typography.js themes\n\nconst defaults = {\n  baseFontSize: 16,\n  baseLineHeight: 1.45,\n  headerLineHeight: 1.1,\n  scaleRatio: 2,\n  googleFonts: [],\n  headerFontFamily: [\n    '-apple-system',\n    'BlinkMacSystemFont',\n    'Segoe UI',\n    'Roboto',\n    'Oxygen',\n    'Ubuntu',\n    'Cantarell',\n    'Fira Sans',\n    'Droid Sans',\n    'Helvetica Neue',\n    'sans-serif',\n  ],\n  bodyFontFamily: ['georgia', 'serif'],\n  headerWeight: 'bold',\n  bodyWeight: 'normal',\n  boldWeight: 'bold',\n  includeNormalize: true,\n  blockMarginBottom: 1,\n}\n\nexport const toUnitless = val => parseFloat(val)\n\nexport const getScale = opts => value =>\n  ms(value, opts.scaleRatio) * opts.baseFontSize\n\nexport const getSpace = (result, opts) => {\n  const n = toUnitless(result.rhythm(opts.blockMarginBottom))\n  return [0, 1 / 4, 1 / 2, 1, 2, 4, 8].map(v => v * n)\n}\n\n// genericFontFamilies, wrapFontFamily adapted from typography.js\n// Wrap font names in quotes, unless the font name is actually a keyword.\n// See https://stackoverflow.com/a/13752149 and https://www.w3.org/TR/CSS2/fonts.html#font-family-prop\nconst genericFontFamilies = [\n  'inherit',\n  'default',\n  'serif',\n  'sans-serif',\n  'monospace',\n  'fantasy',\n  'cursive',\n  '-apple-system',\n  'system-ui',\n]\n\nconst wrapFontFamily = fontFamily =>\n  genericFontFamilies.includes(fontFamily) ? fontFamily : `'${fontFamily}'`\n\nconst stackFonts = fonts => fonts.map(wrapFontFamily).join(', ')\n\nexport const getFonts = (result, opts) => {\n  const body = stackFonts(opts.bodyFontFamily)\n  const heading = stackFonts(opts.headerFontFamily)\n  return {\n    body,\n    heading,\n  }\n}\n\nexport const getFontSizes = (result, opts) => {\n  const scale = getScale(opts)\n  return [-1.5 / 5, -1 / 5, 0, 2 / 5, 3 / 5, 1].map(scale)\n}\n\nexport const getLineHeights = (result, opts) => {\n  const body = opts.baseLineHeight\n  const heading = opts.headerLineHeight\n  return {\n    body,\n    heading,\n  }\n}\n\nexport const getFontWeights = (result, opts) => {\n  const body = opts.bodyWeight\n  const bold = opts.boldWeight\n  const heading = opts.headerWeight\n  return {\n    body,\n    bold,\n    heading,\n  }\n}\n\nexport const toTheme = (_opts = {}) => {\n  const opts = { ...defaults, ..._opts }\n  // enforce unitless values\n  opts.baseFontSize = toUnitless(opts.baseFontSize)\n  opts.rhythmUnit = 'px'\n\n  const typo = verticalRhythm(opts)\n  const theme = {}\n  typo.options = opts\n\n  theme.space = getSpace(typo, opts)\n  theme.fonts = getFonts(typo, opts)\n  theme.fontSizes = getFontSizes(typo, opts)\n  theme.fontWeights = getFontWeights(typo, opts)\n  theme.lineHeights = getLineHeights(typo, opts)\n\n  return {\n    ...theme,\n    styles,\n    typography: typo,\n  }\n}\n\nexport default toTheme\n"],"names":["heading","fontFamily","lineHeight","fontWeight","styles","root","fontSize","img","maxWidth","h1","assign","h2","h3","h4","h5","h6","ul","listStylePosition","listStyleImage","ml","ol","li","mb","pl","my","p","table","borderCollapse","width","th","textAlign","borderBottom","px","py","pr","td","mt","blockquote","mx","hr","border","b","strong","code","pre","padding","headings","blockElements","forEach","tag","margin","marginBottom","defaults","baseFontSize","baseLineHeight","headerLineHeight","scaleRatio","googleFonts","headerFontFamily","bodyFontFamily","headerWeight","bodyWeight","boldWeight","includeNormalize","blockMarginBottom","toUnitless","val","parseFloat","getScale","opts","value","ms","getSpace","result","n","rhythm","map","v","genericFontFamilies","wrapFontFamily","includes","stackFonts","fonts","join","getFonts","body","getFontSizes","scale","getLineHeights","getFontWeights","bold","toTheme","_opts","rhythmUnit","typo","verticalRhythm","theme","options","space","fontSizes","fontWeights","lineHeights","typography"],"mappings":"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"}